(()=>{var e={415:(e,t,r)=>{var n=r(569),o=r(797);r(426);function i(e){return void 0===e||null===e}function a(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||n.whiteList,e.onAttr=e.onAttr||n.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||n.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||n.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,a=t.onIgnoreAttr,c=t.safeAttrValue;return o(e,(function(e,t,o,u,s){var l=r[o],f=!1;if(!0===l?f=l:"function"===typeof l?f=l(u):l instanceof RegExp&&(f=l.test(u)),!0!==f&&(f=!1),u=c(o,u)){var p,d={position:t,sourcePosition:e,source:s,isWhite:f};return f?i(p=n(o,u,d))?o+":"+u:p:i(p=a(o,u,d))?void 0:p}}))},e.exports=a},569:(e,t)=>{function r(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var n=/javascript\s*\:/gim;t.whiteList=r(),t.getDefaultWhiteList=r,t.onAttr=function(e,t,r){},t.onIgnoreAttr=function(e,t,r){},t.safeAttrValue=function(e,t){return n.test(t)?"":t}},296:(e,t,r)=>{var n=r(569),o=r(415);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,n)t[i]=n[i];"undefined"!==typeof window&&(window.filterCSS=e.exports)},797:(e,t,r)=>{var n=r(426);e.exports=function(e,t){";"!==(e=n.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,o=!1,i=0,a=0,c="";function u(){if(!o){var r=n.trim(e.slice(i,a)),u=r.indexOf(":");if(-1!==u){var s=n.trim(r.slice(0,u)),l=n.trim(r.slice(u+1));if(s){var f=t(i,c.length,s,l,r);f&&(c+=f+"; ")}}}i=a+1}for(;a<r;a++){var s=e[a];if("/"===s&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;i=(a=l+1)+1,o=!1}else"("===s?o=!0:")"===s?o=!1:";"===s?o||u():"\n"===s&&u()}return n.trim(c)}},426:e=>{e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},124:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element");function n(e,t,n){var o=null;if(void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:o,ref:void 0!==t?t:null,props:n}}Symbol.for("react.fragment")},583:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,h={};function y(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||v}function b(){}function m(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=m.prototype=new b;w.constructor=m,g(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function S(e,t,n,o,i,a){return n=a.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:a}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function j(e,t,o,i,a){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var u,s,l=!1;if(null===e)l=!0;else switch(c){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0;break;case p:return j((l=e._init)(e._payload),t,o,i,a)}}if(l)return a=a(e),l=""===i?"."+C(e,0):i,k(a)?(o="",null!=l&&(o=l.replace(A,"$&/")+"/"),j(a,t,o,"",(function(e){return e}))):null!=a&&(I(a)&&(u=a,s=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+l,a=S(u.type,s,void 0,0,0,u.props)),t.push(a)),1;l=0;var f,v=""===i?".":i+":";if(k(e))for(var g=0;g<e.length;g++)l+=j(i=e[g],t,o,c=v+C(i,g),a);else if("function"===typeof(g=null===(f=e)||"object"!==typeof f?null:"function"===typeof(f=d&&f[d]||f["@@iterator"])?f:null))for(e=g.call(e),g=0;!(i=e.next()).done;)l+=j(i=i.value,t,o,c=v+C(i,g++),a);else if("object"===c){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function O(e,t,r){if(null==e)return e;var n=[],o=0;return j(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}},817:(e,t,r)=>{"use strict";r(583)},198:(e,t,r)=>{"use strict";r(124)},363:(e,t,r)=>{"use strict";e.exports=r.p+"f220424697ac3c8ba96a.wasm.br"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.b=document.baseURI||self.location.href;var n={};(()=>{"use strict";r.d(n,{default:()=>oi});var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}function i(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(){u=function(){return r};var e,r={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),c=new P(n||[]);return i(a,"_invoke",{value:E(e,r,c)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var v="suspendedStart",g="suspendedYield",h="executing",y="completed",b={};function m(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(L([])));S&&S!==n&&o.call(S,c)&&(x=S);var I=k.prototype=m.prototype=Object.create(x);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,r){function n(i,a,c,u){var s=d(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,c,u)}),(function(e){n("throw",e,c,u)})):r.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,t){function o(){return new r((function(r,o){n(e,t,r,o)}))}return a=a?a.then(o,o):o()}})}function E(t,r,n){var o=v;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===v)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?y:g,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(r){if(r||""===r){var n=r[c];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function t(){for(;++i<r.length;)if(o.call(r,i))return t.value=r[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(r)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},r.awrap=function(e){return{__await:e}},A(C.prototype),f(C.prototype,s,(function(){return this})),r.AsyncIterator=C,r.async=function(e,t,n,o,i){void 0===i&&(i=Promise);var a=new C(p(e,t,n,o),i);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=L,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},r}function s(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,c,"next",e)}function c(e){s(i,n,o,a,c,"throw",e)}a(void 0)}))}}r.r(e),r.d(e,{getJDD:()=>ao,getMaterial:()=>co,getZ2FL:()=>no,getZ2FN:()=>io,jwt:()=>ro,rateLimit:()=>Ur,upid:()=>Dr});var f=function(){return Boolean("undefined"===typeof window||void 0)};function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function v(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function y(e,r){if(r&&("object"==t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e,t,r){return t=g(t),y(e,h()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}var k="_expire";const x=function(){return v((function e(t,r){p(this,e),this.storageKey=t,this.projectKey=r}),[{key:"isCorrectExpire",value:function(e){return"undefined"!==typeof e&&Number.isInteger(Number(e))&&Number.isSafeInteger(e)&&e>(new Date).getTime()}},{key:"isCorrectExpireSeconds",value:function(e){return"undefined"!==typeof e&&Number.isInteger(e)&&Number.isSafeInteger(e)&&e>0}},{key:"getExpire",value:function(e){return(new Date).getTime()+1e3*e}},{key:"getProjectData",value:function(e){var t=this;if(f())return{};var r=window[this.storageKey].getItem(this.projectKey),n={};try{n=JSON.parse(r||"{}")}catch(Tt){n={}}var o=i({},k,{}),a=n[k]||{};return Object.keys(n).forEach((function(e){e!==k&&(void 0===a[e]||t.isCorrectExpire(a[e]))&&(o[e]=n[e],o[k][e]=a[e])})),e&&delete o[k],o}},{key:"get",value:function(e){if(!(null===e||void 0===e||e instanceof Function||e instanceof Array||e instanceof Object))return this.getProjectData()[e]}},{key:"set",value:function(e,t,r){if(f())return!1;if(null===e||void 0===e||e instanceof Function||e instanceof Array)return!1;if(e===k)return!1;var n=this.getProjectData();if(!(e instanceof Object)){n[e]=t,"undefined"!==typeof r&&this.isCorrectExpireSeconds(r)?n[k][e]=this.getExpire(r):delete n[k][e];try{return window[this.storageKey].setItem(this.projectKey,JSON.stringify(n)),!0}catch(o){return!1}}return this.setAll(e,t)}},{key:"setAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f())return!1;var n=this.getProjectData();Object.entries(t).forEach((function(t){var o=t[0];if(o!==k){var i=r[o];n[o]=t[1],e.isCorrectExpireSeconds(i)?n[k][o]=e.getExpire(i):delete n[k][o]}}));try{return window[this.storageKey].setItem(this.projectKey,JSON.stringify(n)),!0}catch(o){return!1}}},{key:"remove",value:function(e){if(f())return!1;if(null===e||void 0===e||e instanceof Function)return!1;if(e.constructor&&e.constructor===Object)return!1;var t=[];e instanceof Array?t=e:t.push(e);var r=this.getProjectData();return t.forEach((function(e){delete r[e],delete r[k][e]})),window[this.storageKey].setItem(this.projectKey,JSON.stringify(r)),!0}},{key:"getAll",value:function(){return this.getProjectData(!0)}},{key:"cleanAll",value:function(){f()||window[this.storageKey].setItem(this.projectKey,JSON.stringify({}))}}])}();var _="".concat("ok_","global"),S="localStorage";const I=function(e){function t(e){var r;return p(this,t),(r=b(this,t,[S,"ok_"+e])).global=new x(S,_),r.g=new x(S,_),r}return w(t,e),v(t)}(x);var A="sessionStorage",C="".concat("ok_","global");const E=function(e){function t(e){var r;return p(this,t),(r=b(this,t,[A,"ok_"+e])).global=new x(A,C),r.g=new x(A,C),r}return w(t,e),v(t)}(x);const j=new(function(){return v((function e(){p(this,e),this.local={},this.session={}}),[{key:"localProject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.local[e]){if(t)return null;this.local[e]=new I(e)}return this.local[e]}},{key:"sessionProject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.session[e]){if(t)return null;this.session[e]=new E(e)}return this.session[e]}}])}());var O="ok_",T="default",P="global",L="localStorage",N="sessionStorage",D=O+T,R=O+P,U="_expire";function K(e){return"undefined"!==typeof e&&Number.isInteger(e)&&Number.isSafeInteger(e)&&e>0}function F(e){return(new Date).getTime()+1e3*e}function M(e,t,r){if(f())return{};var n=window[e].getItem(t),o={};try{o=JSON.parse(n||"{}")}catch(Tt){o={}}var a=i({},U,{}),c=o[U]||{};return Object.keys(o).forEach((function(e){var t;e!==U&&((void 0===c[e]||"undefined"!==typeof(t=c[e])&&Number.isInteger(Number(t))&&Number.isSafeInteger(t)&&t>(new Date).getTime())&&(a[e]=o[e],a[U][e]=c[e]))})),r&&delete a[U],a}function B(e,t){f()||window[e].setItem(t,JSON.stringify(M(e,t)))}var z={get:function(e,t,r){if(!(null===r||void 0===r||r instanceof Function||r instanceof Array||r instanceof Object))return M(e,t)[r]},set:function(e,t,r,n,o){if(f())return!1;if(null===r||void 0===r||r instanceof Function||r instanceof Array)return!1;if(r===U)return!1;var i=M(e,t);if(!(r instanceof Object)){i[r]=n,"undefined"!==typeof o&&K(o)?i[U][r]=F(o):delete i[U][r];try{return window[e].setItem(t,JSON.stringify(i)),!0}catch(a){return!1}}return z.setAll(e,t,r,n)},setAll:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(f())return!1;var o=M(e,t);Object.entries(r).forEach((function(e){var t=e[0];if(t!==U){var r=n[t];o[t]=e[1],K(r)?o[U][t]=F(r):delete o[U][t]}}));try{return window[e].setItem(t,JSON.stringify(o)),!0}catch(i){return!1}},remove:function(e,t,r){if(f())return!1;if(null===r||void 0===r||r instanceof Function)return!1;if(r.constructor&&r.constructor===Object)return!1;var n=[];r instanceof Array?n=r:n.push(r);var o=M(e,t);return n.forEach((function(e){delete o[e],delete o[U][e]})),window[e].setItem(t,JSON.stringify(o)),!0},getAll:function(e,t){return M(e,t,!0)},cleanAll:function(e,t){f()||window[e].setItem(t,JSON.stringify({}))}};function V(e){var t=e.isLocal,r=e.isGlobal;function n(){return t?L:N}function o(){return r?R:D}return{set:function(e,t,r){return z.set(n(),o(),e,t,r)},get:function(e){return z.get(n(),o(),e)},remove:function(e){return z.remove(n(),o(),e)},getAll:function(){return z.getAll(n(),o())},cleanAll:function(){return z.cleanAll(n(),o())}}}var q=function(){var e=c({},V({isLocal:!0,isGlobal:!0}));return c(c({},V({isLocal:!0,isGlobal:!1})),{},{getProjectStorage:function(e){return M(L,O+e,!0)},global:e,g:e})}();function W(e){var t=e.project,r=t===P?T:t;return B(N,D=O+r),B(N,R),r!==T&&B(N,O+T),j.sessionProject(r)}function J(e){var t=e===P?T:e;return j.sessionProject(t,!0)}var H=function(){var e=c({},V({isLocal:!1,isGlobal:!0}));return c(c({},V({isLocal:!1,isGlobal:!1})),{},{getProjectStorage:function(e){return M(N,O+e,!0)},global:e,g:e,init:W,getInstance:J})}();const X=c(c({getInstance:function(e){var t=e===P?T:e;return j.localProject(t,!0)},init:function(e){var t=e.project,r=t===P?T:t;return B(L,D=O+r),B(L,R),r!==T&&B(L,O+T),j.localProject(r)},session:H},q),{},{local:q});function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t){if(e){if("string"==typeof e)return G(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function Q(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z={};function Y(){var e;if("undefined"!==typeof globalThis)e=globalThis;else if("undefined"!==typeof window)e=window;else{if("undefined"===typeof r.g)throw new Error("unable to locate global object");e=r.g}return e}var ee=function(e){var t=Y();return new Proxy({_global_subscribe_list:{},_global_message_list:{},locale:"en_US"},{get:function(r,n,o){if("toJSON"===n)return function(){return c(c(c({},t.okGlobal),t._okGlobal),Z)};if("toString"===n)return function(){return JSON.stringify(o.toJSON())};var i=[Z,t._okGlobal,t.okGlobal];e&&(i=e(i));var a=i.find((function(e){return e&&Object.prototype.hasOwnProperty.call(e,n)}));return null===a||void 0===a?void 0:a[n]},set:function(e,t,r){return Z[t]=r,!0}})},te=["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"],re=r(296),ne=r.n(re);const oe={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}};var ie=ne().FilterCSS,ae=ne().getDefaultWhiteList;function ce(){return i(i({a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"],picture:["class"]},"figure",["class"]),"button",["type","class"])}var ue=new ie;function se(e){return e.replace(le,"&lt;").replace(fe,"&gt;")}var le=/</g,fe=/>/g,pe=/"/g,de=/&quot;/g,ve=/&#([a-zA-Z0-9]*);?/gim,ge=/&colon;?/gim,he=/&newline;?/gim,ye=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,be=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,me=/u\s*r\s*l\s*\(.*/gi;function we(e){return e.replace(pe,"&quot;")}function ke(e){return e.replace(de,'"')}function xe(e){return e.replace(ve,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function _e(e){return e.replace(ge,":").replace(he," ")}function Se(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return oe.trim(t)}function Ie(e){return e=Se(e=_e(e=xe(e=ke(e))))}function Ae(e){return e=se(e=we(e))}const Ce={whiteList:ce(),getDefaultWhiteList:ce,onTag:function(e,t,r){},onIgnoreTag:function(e,t,r){},onTagAttr:function(e,t,r){},onIgnoreTagAttr:function(e,t,r){},safeAttrValue:function(e,t,r,n){if(r=Ie(r),"href"===t||"src"===t){if("#"===(r=oe.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(ye.lastIndex=0,ye.test(r))return""}else if("style"===t){if(be.lastIndex=0,be.test(r))return"";if(me.lastIndex=0,me.test(r)&&(ye.lastIndex=0,ye.test(r)))return"";!1!==n&&(r=(n=n||ue).process(r))}return r=Ae(r)},escapeHtml:se,escapeQuote:we,unescapeQuote:ke,escapeHtmlEntities:xe,escapeDangerHtml5Entities:_e,clearNonPrintableCharacter:Se,friendlyAttrValue:Ie,escapeAttrValue:Ae,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!==typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],o=!1;return{onIgnoreTag:function(i,a,c){if(function(t){return!!r||-1!==oe.indexOf(e,t)}(i)){if(c.isClosing){var u="[/removed]",s=c.position+10;return n.push([!1!==o?o:c.position,s]),o=!1,u}return o||(o=c.position),"[removed]"}return t(i,a,c)},remove:function(e){var t="",r=0;return oe.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},stripCommentTag:function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("\x3c!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var o=e.indexOf("--\x3e",n);if(-1===o)break;r=o+3}return t},stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},attributeWrapSign:'"',cssFilter:ue,getDefaultCSSWhiteList:ae};function Ee(e){var t,r=oe.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=oe.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function je(e){return"</"===e.slice(0,2)}var Oe=/[^a-zA-Z0-9\\_:.-]/gim;function Te(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function Pe(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}}function Le(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function Ne(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}const De=function(e,t,r){var n="",o=0,i=!1,a=!1,c=0,u=e.length,s="",l="";e:for(c=0;c<u;c++){var f=e.charAt(c);if(!1===i){if("<"===f){i=c;continue}}else if(!1===a){if("<"===f){n+=r(e.slice(o,c)),i=c,o=c;continue}if(">"===f||c===u-1){n+=r(e.slice(o,i)),s=Ee(l=e.slice(i,c+1)),n+=t(i,n.length,s,l,je(l)),o=c+1,i=!1;continue}if('"'===f||"'"===f)for(var p=1,d=e.charAt(c-p);""===d.trim()||"="===d;){if("="===d){a=f;continue e}d=e.charAt(c-++p)}}else if(f===a){a=!1;continue}}return o<u&&(n+=r(e.substr(o))),n},Re=function(e,t){var r=0,n=0,o=[],i=!1,a=e.length;function c(e,r){if(!((e=(e=oe.trim(e)).replace(Oe,"").toLowerCase()).length<1)){var n=t(e,r||"");n&&o.push(n)}}for(var u=0;u<a;u++){var s,l=e.charAt(u);if(!1!==i||"="!==l)if(!1===i||u!==n)if(/\s|\n|\t/.test(l)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(s=Te(e,u))){c(oe.trim(e.slice(r,u))),i=!1,r=u+1;continue}u=s-1;continue}if(-1===(s=Le(e,u-1))){c(i,Ne(oe.trim(e.slice(r,u)))),i=!1,r=u+1;continue}}else;else{if(-1===(s=e.indexOf(l,u+1)))break;c(i,oe.trim(e.slice(n+1,s))),i=!1,r=(u=s)+1}else i=e.slice(r,u),r=u+1,n='"'===e.charAt(r)||"'"===e.charAt(r)?r:Pe(e,u+1)}return r<e.length&&(!1===i?c(e.slice(r)):c(i,Ne(oe.trim(e.slice(r))))),oe.trim(o.join(" "))};var Ue=ne().FilterCSS,Ke=De,Fe=Re;function Me(e){return void 0===e||null===e}function Be(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ce.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map((function(e){return e.toLowerCase()})):t[r.toLowerCase()]=e[r];return t}(e.whiteList||e.allowList):e.whiteList=Ce.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":Ce.attributeWrapSign,e.onTag=e.onTag||Ce.onTag,e.onTagAttr=e.onTagAttr||Ce.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ce.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ce.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ce.safeAttrValue,e.escapeHtml=e.escapeHtml||Ce.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Ue(e.css))}Be.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,r=t.options,n=r.whiteList,o=r.onTag,i=r.onIgnoreTag,a=r.onTagAttr,c=r.onIgnoreTagAttr,u=r.safeAttrValue,s=r.escapeHtml,l=t.attributeWrapSign,f=t.cssFilter;r.stripBlankChar&&(e=Ce.stripBlankChar(e)),r.allowCommentTag||(e=Ce.stripCommentTag(e));var p=!1;r.stripIgnoreTagBody&&(p=Ce.StripTagBody(r.stripIgnoreTagBody,i),i=p.onIgnoreTag);var d=Ke(e,(function(e,t,r,p,d){var v={sourcePosition:e,position:t,isClosing:d,isWhite:Object.prototype.hasOwnProperty.call(n,r)},g=o(r,p,v);if(!Me(g))return g;if(v.isWhite){if(v.isClosing)return"</"+r+">";var h=function(e){var t=oe.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=oe.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=oe.trim(e.slice(0,-1))),{html:e,closing:r}}(p),y=n[r],b=Fe(h.html,(function(e,t){var n=-1!==oe.indexOf(y,e),o=a(r,e,t,n);return Me(o)?n?(t=u(r,e,t,f))?e+"="+l+t+l:e:Me(o=c(r,e,t,n))?void 0:o:o}));return p="<"+r,b&&(p+=" "+b),h.closing&&(p+=" /"),p+=">"}return Me(g=i(r,p,v))?s(p):g}),s);return p&&(d=p.remove(d)),d};const ze={filterXSS:function(e,t){return new Be(t).process(e)},FilterXSS:Be,whiteList:Ce.whiteList,getDefaultWhiteList:Ce.getDefaultWhiteList,onTag:Ce.onTag,onIgnoreTag:Ce.onIgnoreTag,onTagAttr:Ce.onTagAttr,onIgnoreTagAttr:Ce.onIgnoreTagAttr,safeAttrValue:Ce.safeAttrValue,escapeHtml:Ce.escapeHtml,escapeQuote:Ce.escapeQuote,unescapeQuote:Ce.unescapeQuote,escapeHtmlEntities:Ce.escapeHtmlEntities,escapeDangerHtml5Entities:Ce.escapeDangerHtml5Entities,clearNonPrintableCharacter:Ce.clearNonPrintableCharacter,friendlyAttrValue:Ce.friendlyAttrValue,escapeAttrValue:Ce.escapeAttrValue,onIgnoreTagStripAll:Ce.onIgnoreTagStripAll,StripTagBody:Ce.StripTagBody,stripCommentTag:Ce.stripCommentTag,stripBlankChar:Ce.stripBlankChar,attributeWrapSign:Ce.attributeWrapSign,cssFilter:Ce.cssFilter,getDefaultCSSWhiteList:Ce.getDefaultCSSWhiteList,parseTag:De,parseAttr:Re};var Ve=ze.getDefaultWhiteList(),qe=ze.escapeAttrValue,We={};Object.keys(Ve).forEach((function(e){Ve[e]=Ve[e].concat(te)}));const Je=function(e,t){var r=JSON.stringify(t);return We[r]||(We[r]=function(e){var t=(null===e||void 0===e?void 0:e.mode)||"escape",r=null===e||void 0===e?void 0:e.whiteList,n=Ve;r&&(n=c(c({},Ve),r));var o="escape"===t;return new ze.FilterXSS(c(c({onTagAttr:function(e,t,r,n){if(n&&"a"===e&&"href"===t&&(r.startsWith("okex://")||r.startsWith("okx://")||r.startsWith("okxtr://")))return"".concat(t,'="').concat(r,'"')},onIgnoreTagAttr:function(e,t,r){if(t.startsWith("data-")){var n=o?qe(r):r.replace(/</g,"").replace(/>/g,"");return"".concat(t,'="').concat(n,'"')}},css:!1,escapeHtml:function(e){return o?ze.escapeHtml(e):e.replace(/</g,"").replace(/>/g,"")}},e),{},{whiteList:n}))}(t)),We[r].process(e)};var He=["javascript:","view-source:","\\s*j\\s*a\\s*v\\s*a\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*:\\s*"],Xe={};const Ge=function(e,t){var r=e,n="",o=function(e,t){var r="".concat(Q(e).join(","),"|").concat(t.join(","));if(!Xe[r]){var n=He.concat(t).filter((function(t){return!e.has(t)})),o=new RegExp(n.join("|"),"gi");Xe[r]=o}return Xe[r]}(new Set((null===t||void 0===t?void 0:t.keywordsWhiteList)||[]),(null===t||void 0===t?void 0:t.keywordsBlackList)||[]);do{n=r,r=r.replace(o,"")}while(r!==n);return r};function $e(e,t){var r=Je(e,t);return r=Ge(r,t)}function Qe(e){try{var t=function(e){var t,r=e,n=0;do{t=r,r=decodeURIComponent(r),n++}while(r!==t&&n<5);return{decodeValue:r,count:n}}(e),r=t.decodeValue,n=t.count;return r===e?{isEncode:!1,count:0}:{isEncode:r,count:n}}catch(Tt){return{isEncode:!1,count:0}}}function Ze(e,t,r){var n=t.enableXssPurify,o=t.mode;if(!n)return r(e);var i=Qe(e),a=i.isEncode,c=i.count;if(a&&"string"===typeof a){var u=$e(a,{mode:o});return r(u===a?e:function(e,t){var r=1,n=e;do{r++,n=encodeURIComponent(n)}while(r!==t);return n}(u,c))}return r($e(e,{mode:o}))}function Ye(){for(var e=arguments,t=arguments.length<=0?void 0:arguments[0],r=function(){var r=n<0||e.length<=n?void 0:e[n];r&&Object.keys(r).forEach((function(e){t[e]=r[e]}))},n=1;n<arguments.length;n++)r();return t}const et={read:function(e){var t=e;return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};var tt=ee(),rt=f(),nt=Y(),ot={debug:function(){},info:function(){},warn:function(){},error:function(){},timeStart:function(){},timeEnd:function(){},init:function(){}},it=function(e){var t,r=e.message,n=e.level,o=e.data,i={};i=o instanceof Error?{error:o}:c({message:r},o);var a=Object.keys(i).find((function(e){return i[e]instanceof Error})),u=i[a];if(u){var s;delete i[a];var l=new Error;return l.message="".concat(r," - ").concat(u.message),l.name=u.name,l.stack=u.stack,void(null===(s=nt.Sentry)||void 0===s||s.captureException(l,c(c({},i),{},{message:r,contexts:{report:{info:JSON.stringify(i)}}})))}null===(t=nt.Sentry)||void 0===t||t.captureEvent(c(c({},i),{},{message:r,level:n,contexts:{report:{info:JSON.stringify(i)}}}))};ot.init=rt?function(){if(nt.ssrUtils&&nt.ssrUtils.logger){var e=nt.ssrUtils.logger;ot.debug=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.debug)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},ot.info=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.info)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},ot.warn=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.warn)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},ot.error=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.error)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},ot.timeStart=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.timeStart)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},ot.timeEnd=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.timeEnd)||void 0===t?void 0:t.call.apply(t,[e].concat(n))}}}:function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(null===(e=nt.__INIT_STATE__)||void 0===e?void 0:e.appContext)||{},i=o.dsn,a=o.version,u=o.traceId,s=o.injectableOptions,l=void 0===s?{}:s,f=null===l||void 0===l?void 0:l.reportOptions,p={};"object"!==typeof f||Array.isArray(f)||(p=f||{}),(i||null!==n&&void 0!==n&&n.dsn||p.dsn)&&(null===(t=nt.Sentry)||void 0===t||t.init(c(c({dsn:i,release:a},n),p),{debug:["dev","daily"].includes(tt.envSign)}),null===(r=nt.Sentry)||void 0===r||r.setTag("traceId",u),ot.debug=function(e,t){return it({message:e,level:"debug",data:t})},ot.info=function(e,t){return it({message:e,level:"info",data:t})},ot.warn=function(e,t){return it({message:e,level:"warn",data:t})},ot.error=function(e,t){return it({message:e,level:"error",data:t})},ot.timeStart=console.time,ot.timeEnd=console.timeEnd)},ot.init();var at=["path","domain","overwrite","sameSite","encrypt","maxAge","expires","httpOnly","secure","signed"],ct=ee(),ut=f();function st(e,t){if("number"===typeof e){var r=24*e*60*60,n=r;return"number"===typeof t&&r>t&&(n=t),new Date(Date.now()+1e3*n)}if(e instanceof Date){var o=e;if("number"===typeof t){var i=new Date(Date.now()+1e3*t);e>i&&(o=i)}return o}}function lt(e,t){t.length&&ot.info(e),ot.info('[cookieAlarm]: "cookieWhiteList length is '.concat(t.length))}function ft(e){var t,r,n,o,i,a,c=e||{},u=c.name,s=c.apiType,l=c.type,f=c.defaultCookieInterceptLevel,p=c.defaultCookieInterceptMaxAge,d="instance"===s,v=(null===(t=ct)||void 0===t?void 0:t.cookieWhitelist)||[];0===v.length&&(v=(null===(a=ct=ee())||void 0===a?void 0:a.cookieWhitelist)||[]);var g=d?(null===(r=ct)||void 0===r?void 0:r.cookieInterceptLevel)||f||0:(null===(n=ct)||void 0===n?void 0:n.cookieInterceptLevel)||0,h=d?(null===(o=ct)||void 0===o?void 0:o.cookieInterceptMaxAge)||p:null===(i=ct)||void 0===i?void 0:i.cookieInterceptMaxAge;if(u&&!v.includes(u)){var y='[cookieAlarm]: "'.concat(u,'" is not allowed to ').concat(l,"!");if(1===g)lt(y,v);else if(2===g)return void lt(y,v)}return"undefined"===typeof h||h}function pt(e){var t=!1;ut&&e&&(Object.keys(e).every((function(e){return at.includes(e)}))&&(t=!0));return t}var dt=Y(),vt=f(),gt=!vt&&"undefined"===typeof document,ht={path:"/"},yt="ok_global";const bt=new(function(){function e(t){p(this,e),this.options=t,this.converter=(null===t||void 0===t?void 0:t.converter)||et,this.attributes=(null===t||void 0===t?void 0:t.attributes)||ht,this.initAttributes={value:Object.freeze(this.attributes)},this.initConverter={value:Object.freeze(this.converter)},this.enableXssPurify=!0,this.mode="escape"}return v(e,[{key:"init",value:function(t){return new e(t)}},{key:"closeXssPurify",value:function(){this.enableXssPurify=!1}},{key:"setMode",value:function(e){this.mode=e}},{key:"set",value:function(e,t,r){var n,o,i=this;if(!gt){var a=ft({apiType:"instance",type:"set",name:e,defaultCookieInterceptLevel:null===(n=this.options)||void 0===n?void 0:n.cookieInterceptLevel,defaultCookieInterceptMaxAge:null===(o=this.options)||void 0===o?void 0:o.cookieInterceptMaxAge});if(a){var u,s=pt(r),l=c({},r);if((l=Ye({},this.attributes,l)).expires){var f=st(l.expires,a);f&&(l.expires=f.toUTCString())}u=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,encodeURIComponent);var p="";return Object.keys(l).forEach((function(e){l[e]&&(p+="; ".concat(e),!0!==l[e]&&("number"===typeof l[e]&&(l[e]=String(l[e])),p+="=".concat(l[e].split(";")[0])))})),Ze(t,{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){var t,r;if(s)return null===dt||void 0===dt||null===(t=dt.ssrUtils)||void 0===t||null===(r=t.cookies)||void 0===r?void 0:r.set(u,e,l);var n="".concat(u,"=").concat(i.converter.write(e,u)).concat(p);return document.cookie=n,n}))}}}},{key:"get",value:function(e){var t,r,n=this;if((!arguments.length||e)&&ft({apiType:"instance",type:"get",name:e,defaultCookieInterceptLevel:null===(t=this.options)||void 0===t?void 0:t.cookieInterceptLevel,defaultCookieInterceptMaxAge:null===(r=this.options)||void 0===r?void 0:r.cookieInterceptMaxAge})){if(vt){var o,i,a=null===dt||void 0===dt||null===(o=dt.ssrUtils)||void 0===o||null===(i=o.cookies)||void 0===i?void 0:i.get(e);return a?Ze(a,{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){return e})):a}if(!gt){var c=document.cookie?document.cookie.split("; "):[],u={};c.forEach((function(t){var r=t.split("="),o=r.slice(1).join("=");try{var i=decodeURIComponent(r[0]);if(u[i]=n.converter.read(o,i),e===i)return}catch(Tt){}}));var s=e?u[e]:u;return s&&e?Ze(s,{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){return e})):s}}}},{key:"g",get:function(){var e=this;return{set:function(t,r){if("string"!==typeof t||!t)return!1;if("string"!==typeof r&&"number"!==typeof r)return!1;var n=e.get(yt),o={};if(n)try{n=decodeURIComponent(n),o=JSON.parse(n)}catch(a){}return e.set(yt,JSON.stringify(Object.assign(o,i({},t,r))),{expires:1e3})},get:function(t){var r=e.get(yt);try{return r=decodeURIComponent(r),JSON.parse(r)[t]}catch(n){return}},remove:function(t){var r=e.get(yt),n={};if(r)try{r=decodeURIComponent(r),n=JSON.parse(r)}catch(o){}n[t]&&(delete n[t],e.set(yt,JSON.stringify(n),{expires:1e3}))}}}},{key:"remove",value:function(e,t){this.set(e,"",Ye({},t,{expires:-1}))}},{key:"withAttributes",value:function(t){return new e({converter:this.initConverter,attributes:Ye({},this.initAttributes,t)})}},{key:"withConverter",value:function(t){return new e({converter:Ye({},this.initConverter,t),attributes:this.initAttributes})}}])}());var mt=Y(),wt=f(),kt=!wt&&"undefined"===typeof document,xt="ok_global";const _t=function e(t,r){function n(e,n,o){if(!kt){var i=ft({type:"set",name:e});if(i){var a,u=pt(o),s=c({},o);if((s=Ye({},r,s)).expires){var l=st(s.expires,i);l&&(s.expires=l.toUTCString())}a=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,encodeURIComponent);var f="";return Object.keys(s).forEach((function(e){s[e]&&(f+="; ".concat(e),!0!==s[e]&&("number"===typeof s[e]&&(s[e]=String(s[e])),f+="=".concat(s[e].split(";")[0])))})),Ze(n,{enableXssPurify:!0,mode:"escape"},(function(e){var r,n;if(u)return null===mt||void 0===mt||null===(r=mt.ssrUtils)||void 0===r||null===(n=r.cookies)||void 0===n?void 0:n.set(a,e,s);var o="".concat(a,"=").concat(t.write(e,a)).concat(f);return document.cookie=o,o}))}}}function o(e){if((!arguments.length||e)&&ft({type:"get",name:e})){if(wt){var r,n,o=null===mt||void 0===mt||null===(r=mt.ssrUtils)||void 0===r||null===(n=r.cookies)||void 0===n?void 0:n.get(e);return o?Ze(o,{enableXssPurify:!0,mode:"escape"},(function(e){return e})):o}if(!kt){var i=document.cookie?document.cookie.split("; "):[],a={};i.forEach((function(r){var n=r.split("="),o=n.slice(1).join("=");try{var i=decodeURIComponent(n[0]);if(a[i]=t.read(o,i),e===i)return}catch(Tt){}}));var c=e?a[e]:a;return c&&e?Ze(c,{enableXssPurify:!0,mode:"escape"},(function(e){return e})):c}}}return Object.create({g:{set:function(e,t){if("string"!==typeof e||!e)return!1;if("string"!==typeof t&&"number"!==typeof t)return!1;var r=o(xt),a={};if(r)try{r=decodeURIComponent(r),a=JSON.parse(r)}catch(c){}return n(xt,JSON.stringify(Object.assign(a,i({},e,t))),{expires:1e3})},get:function(e){var t=o(xt);try{return t=decodeURIComponent(t),JSON.parse(t)[e]}catch(r){return}},remove:function(e){var t=o(xt),r={};if(t)try{t=decodeURIComponent(t),r=JSON.parse(t)}catch(i){}r[e]&&(delete r[e],n(xt,JSON.stringify(r),{expires:1e3}))}},set:n,get:o,init:function(e){return bt.init(e)},remove:function(e,t){n(e,"",Ye({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Ye({},this.attributes,t))},withConverter:function(t){return e(Ye({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}(et,{path:"/"});var St="ok_site_info",It=Y(),At=f(),Ct=function(e){return e.split("").reverse().join("")},Et=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=_t.get(St);if(!t)return e?{}:"";try{return e?JSON.parse(function(e){var t=Ct(e);return At?Buffer.from(t,"base64").toString("utf-8"):window.atob(t)}(t)):t}catch(Tt){}return{}},jt=function(e){var t=Et();Object.keys(e).forEach((function(r){t[r]=e[r]}));var r,n,o,i=(r=JSON.stringify(t),Ct(At?Buffer.from(r).toString("base64"):window.btoa(r)));At?null===It||void 0===It||null===(n=It.ssrUtils)||void 0===n||null===(o=n.cookies)||void 0===o||o.set(St,i):_t.set(St,i)};const Ot=ee((function(e){return[].concat(Q(e),[{getSiteInfo:Et,setSiteInfo:jt}])}));function Tt(e){this.message=e}Tt.prototype=new Error,Tt.prototype.name="InvalidCharacterError";var Pt="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Tt("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,i=0,a="";n=t.charAt(i++);~n&&(r=o%4?64*r+n:n,o++%4)?a+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a};function Lt(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Pt(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return Pt(t)}}function Nt(e){this.message=e}Nt.prototype=new Error,Nt.prototype.name="InvalidTokenError";const Dt=function(e,t){if("string"!=typeof e)throw new Nt("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(Lt(e.split(".")[r]))}catch(e){throw new Nt("Invalid token specified: "+e.message)}};var Rt=["/support/","/docs/","/docs-v5/","/academy/"],Ut=["http","//","\\/","/\\","\\","okx:","chrome-extension:"],Kt=/^\/[a-z]{2}(-[a-z]{2,4})?(-[a-z]{2})?(?=\/|$|[?#])/i;function Ft(e){return!(e&&"string"===typeof e&&(t=e,!Ut.some((function(e){return t.startsWith(e)})))&&e.startsWith("/")&&!e.startsWith("/\\"));var t}function Mt(e){return"/"===new URL(e,"https://tempurl.com").pathname?e:e.replace(/\/(?=[\\?#]|$)/,"")}function Bt(e){if(!e||"string"!==typeof e)return e;try{var t,r,n=e,o=Ot.langPath,i=void 0===o?"":o,a=Ot.localeMap,c=void 0===a?{}:a,u=Ot.locale,s=void 0===u?"":u,l=null===s||void 0===s||null===(t=s.toLowerCase())||void 0===t?void 0:t.replace("-","_"),f=function(e){var t="";return Object.keys(e).forEach((function(r){e[r]||(t=r)})),t}(c),p=null===(r=e.match(Kt))||void 0===r?void 0:r[0];if(p){var d=n.split("/").length-1;n=n.replace(p,1===d?"/":"")}return function(e){if(Ft(e))return!0;var t=Ot.okUtilsConfig;return((void 0===t?{}:t).prefixLangPathFilter||Rt).some((function(t){return e.startsWith(t)}))}(n)||!i&&l!==f?Mt(e):Mt(n.startsWith("".concat(i,"/"))?n:"".concat(i).concat(n))}catch(v){return e}}var zt,Vt=864e5,qt=function(){var e,t,r;return!(null===(e=window)||void 0===e||null===(t=e.pcClient)||void 0===t||null===(r=t.pca)||void 0===r||!r.setItem)},Wt="_tk",Jt="token",Ht="devId",Xt="ok_login_type",Gt="privateKey",$t="publicKey",Qt="_tk",Zt="devId",Yt="_eid",er="login_devId",tr="devIdPublic",rr="SPE_0",nr="SPE_1",or="SPE_2",ir="SPE_3",ar="SPE_4",cr="SPE_5",ur="SPE_6",sr="SPE_10",lr="reqCaches",fr={project:{id:206,token:"77d51bf92a0501485bb541a2ec96517e"}},pr={ERR_CANCELED:"ERR_CANCELED",ERR_NETWORK:"ERR_NETWORK",ERR_TIMEOUT:"ERR_TIMEOUT"},dr={useNativeTokenInApp:!0,dexEnv:0,isHandling401:!1},vr={traceId:void 0,privateKey:void 0,reportedMsg:{}},gr=function(e){Object.assign(dr,e)},hr="token_expire_time",yr="isLogin",br=function(){if(f())return Boolean(_t.get(Jt)&&_t.get(yr));if(void 0!==zt)return zt;var e=Boolean(_t.get(Jt)&&_t.get(yr));return zt=e,e},mr=function(){return _t.get(Jt)},wr=function(){var e=l(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.jsbridge)&&void 0!==t&&t.getToken){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.prev=3,e.next=6,t.getToken();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),kr=function(){var e=l(u().mark((function e(){var t,r,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:dr,!Ot.isApp||!t.useNativeTokenInApp){e.next=6;break}return e.next=4,wr();case 4:return r=e.sent,e.abrupt("return",r);case 6:return e.abrupt("return",mr());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xr=function(e){try{return Dt(e)}catch(t){return{exp:0}}},_r=function(e){var t,r,n=e?xr(e).eid:void 0,o=(null===(t=Ot.getSiteInfo)||void 0===t||null===(r=t.call(Ot))||void 0===r?void 0:r.entity)||"";n&&n!==o&&(Ot.setSiteInfo&&Ot.setSiteInfo({entity:n}),localStorage.setItem(Yt,n))},Sr=function(){var e=mr();_r(e)},Ir=function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr();case 2:t=e.sent,_r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ar=function(e){if(!Ot.isApp){var t="object"===typeof e?e:{token:e},r=t.tk,n=t.token,o=t.expireTime,i=function(e){var t=e.token,r=e.expireTime,n=void 0===r?0:r,o=Date.now(),i=6048e5;if(n>o)localStorage.setItem(hr,String(n)),i=n-o;else if(t){var a=1e3*xr(t).exp;localStorage.setItem(hr,String(a)),i=a-o}return i/Vt}({token:n,expireTime:void 0===o?0:o});n&&(!function(e){var t=e.token,r=e.expireTime;_t.set(Jt,t,{expires:r}),_t.set(yr,"1",{expires:r})}({token:n,expireTime:i}),_r(n)),function(e){var t=e.tk,r=e.expireTime,n=t||_t.get(Wt);_t.set(Wt,n,{expires:r}),localStorage.setItem(Qt,n)}({tk:r,expireTime:i}),function(e){var t,r=function(){var e=window.location.hostname.split(".");return e.length>2?e.slice(-2).join("."):window.location.hostname}();_t.set(Xt,null===Ot||void 0===Ot||null===(t=Ot.site)||void 0===t?void 0:t.subSite,{expires:e,domain:".".concat(r)})}(i),zt=!0}},Cr=function(){localStorage.removeItem(Yt),_t.remove(Jt),_t.remove(Wt),localStorage.removeItem(Qt),localStorage.removeItem(hr),_t.remove(yr),X.session.remove(lr),zt=!1},Er=function(){var e=window.jsbridge;return Ot.isApp&&null!==e&&void 0!==e&&e.isLogin?e.isLogin():Promise.resolve(br())},jr=function(){var e,t;if(null!==Ot&&void 0!==Ot&&null!==(e=Ot.site)&&void 0!==e&&null!==(t=e.is)&&void 0!==t&&t.oklink||!Ot.isApp){var r=window.location,n=r.pathname,o=r.search,i=r.hash,a=encodeURIComponent("".concat(n).concat(o).concat(i));r.href=$e(Bt("/account/login?logout=true&forward=".concat(a)))}};function Or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tr,Pr="5.7.11",Lr=function(e){if("undefined"===typeof window||"function"!==typeof window.btoa)throw new Error("toSuperBase: window.btoa is not available in this environment");return function(e){for(var t=e.length;t>0&&"="===e[t-1];)t--;return e.slice(0,t)}(window.btoa(e)).split("").map((function(e,t){var r=t%2===0;if(/\d/.test(e))return r?e:String(9-Number(e));if(/[a-z]/i.test(e)&&r){var n=e.charCodeAt(0),o=n>=97?n-32:n+32;return String.fromCharCode(o)}return e})).join("")},Nr=function(e){var t=e.msg,r=e.errInfo,n=void 0===r?{}:r,o=e.extra;try{vr.reportedMsg[t]||(ot.info("".concat(Pr,": ").concat(t),c(c({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e instanceof Error){var t=e;return{name:t.name,code:t.code,message:t.message,stack:t.stack,detail:t.detail}}return"string"===typeof e?{errInfo:e}:e}(n)),{},{customConfig:fr,extra:o})),vr.reportedMsg[t]=!0)}catch(i){console.error("".concat(Pr,": sendSentryLog error:"),i)}},Dr={setUPid:function(){var e=window.location;if(/^(\/[a-z]{2})?\/account/.test(e.pathname)){var t=Lr(e.host);_t.set("u_pid",t)}}},Rr=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c,s,f,p,d,v,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.fetchConfig,o=t.timestampForTest,i=t.tokenForTest,a=function(){return crypto.randomUUID?crypto.randomUUID():(new Date).getTime()},c=function(){var e=l(u().mark((function e(t){var r,n,i,a,c,s,l,f,p,d,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t));case 3:for(n=e.sent,i=Array.from(new Uint8Array(n)),a=i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),c=Date.now(),s=o||Math.floor(c/1e3),l=Math.floor(s/600%32),f=Math.floor(s/3600%32),p=0;p<32;p++)d=a[(l+(f+p)*p)%32],r+=d;return e.next=13,crypto.subtle.importKey("raw",(new TextEncoder).encode(r),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);case 13:return v=e.sent,e.abrupt("return",{key:v,timestamp:c});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=r.replace("?","");if(["post","put"].includes(n.method)){var t=r.split("?")[0],o=n.body;if(o instanceof FormData){var i=Array.from(o.entries()).map((function(e){var t=Or(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join(",");e="".concat(t,"{").concat(i,"}")}else e="".concat(t).concat(n.body)}return e},f=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return r=e.sent,n=r.key,o=r.timestamp,i=s(),e.next=8,crypto.subtle.sign("HMAC",n,(new TextEncoder).encode(i));case 8:return a=e.sent,l=btoa(String.fromCharCode.apply(String,Q(new Uint8Array(a)))),e.abrupt("return",{signature:l,timestamp:o});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=i||a(),e.next=8,f(p);case 8:return d=e.sent,v=d.timestamp,g=d.signature,e.abrupt("return",{token:p,timestamp:v,signature:g});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ur={getTokenAndSign:Rr},Kr=new Array(128).fill(void 0);function Fr(e){return Kr[e]}Kr.push(void 0,null,!0,!1);var Mr=Kr.length;function Br(e){var t=Fr(e);return function(e){e<132||(Kr[e]=Mr,Mr=e)}(e),t}var zr="undefined"!==typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:function(){throw Error("TextDecoder not available")}};"undefined"!==typeof TextDecoder&&zr.decode();var Vr=null;function qr(){return null!==Vr&&0!==Vr.byteLength||(Vr=new Uint8Array(Tr.memory.buffer)),Vr}function Wr(e,t){return e>>>=0,zr.decode(qr().subarray(e,e+t))}function Jr(e){Mr===Kr.length&&Kr.push(Kr.length+1);var t=Mr;return Mr=Kr[t],Kr[t]=e,t}var Hr=0,Xr="undefined"!==typeof TextEncoder?new TextEncoder("utf-8"):{encode:function(){throw Error("TextEncoder not available")}},Gr="function"===typeof Xr.encodeInto?function(e,t){return Xr.encodeInto(e,t)}:function(e,t){var r=Xr.encode(e);return t.set(r),{read:e.length,written:r.length}};function $r(e,t,r){if(void 0===r){var n=Xr.encode(e),o=t(n.length,1)>>>0;return qr().subarray(o,o+n.length).set(n),Hr=n.length,o}for(var i=e.length,a=t(i,1)>>>0,c=qr(),u=0;u<i;u++){var s=e.charCodeAt(u);if(s>127)break;c[a+u]=s}if(u!==i){0!==u&&(e=e.slice(u)),a=r(a,i,i=u+3*e.length,1)>>>0;var l=qr().subarray(a+u,a+i);a=r(a,i,u+=Gr(e,l).written,1)>>>0}return Hr=u,a}var Qr=null;function Zr(){return null!==Qr&&0!==Qr.byteLength||(Qr=new Int32Array(Tr.memory.buffer)),Qr}function Yr(e){var t=typeof e;if("number"==t||"boolean"==t||null==e)return"".concat(e);if("string"==t)return'"'.concat(e,'"');if("symbol"==t){var r=e.description;return null==r?"Symbol":"Symbol(".concat(r,")")}if("function"==t){var n=e.name;return"string"==typeof n&&n.length>0?"Function(".concat(n,")"):"Function"}if(Array.isArray(e)){var o=e.length,i="[";o>0&&(i+=Yr(e[0]));for(var a=1;a<o;a++)i+=", "+Yr(e[a]);return i+="]"}var c,u=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!(u.length>1))return toString.call(e);if("Object"==(c=u[1]))try{return"Object("+JSON.stringify(e)+")"}catch(s){return"Object"}return e instanceof Error?"".concat(e.name,": ").concat(e.message,"\n").concat(e.stack):c}var en="undefined"===typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry((function(e){Tr.__wbindgen_export_2.get(e.dtor)(e.a,e.b)}));function tn(e,t,r){Tr.wasm_bindgen__convert__closures__invoke1_mut__he81b0e579a5d8e82(e,t,Jr(r))}function rn(e,t){try{return e.apply(this,t)}catch(Tt){Tr.__wbindgen_exn_store(Jr(Tt))}}function nn(e,t){return on.apply(this,arguments)}function on(){return(on=l(u().mark((function e(t,r){var n,o,i,a,c,s,l,f,p,d,v,g,h,y,b,m,w,k,x,_;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=typeof t,o=t&&t.byteLength?t.byteLength:"N/A",i=t instanceof ArrayBuffer,a=ArrayBuffer.isView(t),c=t instanceof WebAssembly.Module,!("function"===typeof Response&&t instanceof Response)){e.next=47;break}if(e.prev=6,"function"!==typeof WebAssembly.instantiateStreaming){e.next=11;break}return e.next=10,WebAssembly.instantiateStreaming(t,r);case 10:case 13:return e.abrupt("return",e.sent);case 11:return e.next=13,WebAssembly.instantiate(s,r);case 16:return e.prev=16,e.t0=e.catch(6),e.next=20,t.arrayBuffer();case 20:throw s=e.sent,l=t.headers.get("content-length"),f=t.headers.get("transfer-encoding"),p=t.headers.get("content-encoding"),h=t.headers.get("content-type"),d=t.headers.get("via"),v=t.headers.get("accept-encoding"),g=new Uint8Array(s.slice(0,8)).toString(),y=t.headers?Q(t.headers.entries()).slice(0,20).toString():null,b=t.headers.get("rayid"),m=t.headers.get("eagleid"),w=t.headers.get("x-amz-cf-id"),console.error("WebAssembly.instantiateStreaming error:",e.t0),console.error("Content-Length:",l),console.error("Transfer-Encoding:",f),console.error("Content-Encoding:",p),console.error("Content-Type:",h),console.error("Via:",d),console.error("Headers:",y),console.error("Accept-Encoding:",v),console.error("First 4 bytes of arrayBuffer:",g),console.error("rayid:",b),console.error("eagleid:",m),console.error("xAmzCfId:",w),{e:JSON.stringify(e.t0),bytes:s,contentLength:l,transferEncoding:f,contentEncoding:p,via:d,acceptEncoding:v,expectedMagicNumber:g,imports:r,moduleType:n,moduleSize:o,isArrayBuffer:i,isTypedArray:a,isWebAssemblyModule:c,message:null===e.t0||void 0===e.t0?void 0:e.t0.message,stack:null===e.t0||void 0===e.t0?void 0:e.t0.stack,messageSource:"WebAssembly.instantiateStreaming error",contentType:h,headers:y,rayid:b,eagleid:m,xAmzCfId:w};case 45:case 56:e.next=70;break;case 47:return e.prev=47,e.next=50,WebAssembly.instantiate(t,r);case 50:if(!((k=e.sent)instanceof WebAssembly.Instance)){e.next=55;break}return e.abrupt("return",{instance:k,module:t});case 55:return e.abrupt("return",k);case 58:throw e.prev=58,e.t1=e.catch(47),x=null,(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(_=t instanceof ArrayBuffer?t:t.buffer,x=new Uint8Array(_.slice(0,8)).toString()),console.error("WebAssembly.instantiate error:",e.t1),console.error("Module type:",n),console.error("Module size:",o),console.error("Is ArrayBuffer:",i),console.error("Is TypedArray:",a),console.error("Is WebAssembly.Module:",c),console.error("First 4 bytes of arrayBuffer:",x),{e:JSON.stringify(e.t1),imports:r,moduleType:n,moduleSize:o,isArrayBuffer:i,isTypedArray:a,isWebAssemblyModule:c,expectedMagicNumber:x,message:null===e.t1||void 0===e.t1?void 0:e.t1.message,stack:null===e.t1||void 0===e.t1?void 0:e.t1.stack,messageSource:"WebAssembly.instantiate error"};case 70:case"end":return e.stop()}}),e,null,[[6,16],[47,58]])})))).apply(this,arguments)}function an(){var e,t={};return t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(e){Br(e)},t.wbg.__wbindgen_is_object=function(e){var t=Fr(e);return"object"===typeof t&&null!==t},t.wbg.__wbindgen_is_string=function(e){return"string"===typeof Fr(e)},t.wbg.__wbindgen_string_new=function(e,t){return Jr(Wr(e,t))},t.wbg.__wbindgen_string_get=function(e,t){var r,n=Fr(t),o="string"===typeof n?n:void 0,i=void 0===(r=o)||null===r?0:$r(o,Tr.__wbindgen_malloc,Tr.__wbindgen_realloc),a=Hr;Zr()[e/4+1]=a,Zr()[e/4+0]=i},t.wbg.__wbg_log_3616ebb275cffd6f=function(e,t){Wr(e,t)},t.wbg.__wbg_getZ2FN_1fcb562cc3a76c0c=function(){return Jr(window.utils.ont.crypto.getZ2FN())},t.wbg.__wbg_getJDD_a23f6fe0ec8619f4=function(){return Jr(window.utils.ont.crypto.getJDD())},t.wbg.__wbg_getZ2FL_2d22b1fa9817a0d4=function(e,t,r){var n,o;try{n=t,o=r;var i=$r(window.utils.ont.crypto.getZ2FL(Wr(t,r)),Tr.__wbindgen_malloc,Tr.__wbindgen_realloc),a=Hr;Zr()[e/4+1]=a,Zr()[e/4+0]=i}finally{Tr.__wbindgen_free(n,o,1)}},t.wbg.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(e){return Jr(Fr(e).queueMicrotask)},t.wbg.__wbindgen_is_function=function(e){return"function"===typeof Fr(e)},t.wbg.__wbindgen_cb_drop=function(e){var t=Br(e).original;if(1==t.cnt--)return t.a=0,!0;return!1},t.wbg.__wbg_queueMicrotask_481971b0d87f3dd4=function(e){queueMicrotask(Fr(e))},t.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){return Jr(new Function(Wr(e,t)))},t.wbg.__wbg_get_e3c254076557e348=function(){return rn((function(e,t){return Jr(Reflect.get(Fr(e),Fr(t)))}),arguments)},t.wbg.__wbg_call_27c0f87801dedf93=function(){return rn((function(e,t){return Jr(Fr(e).call(Fr(t)))}),arguments)},t.wbg.__wbg_new_72fb9a18b5ae2624=function(){return Jr(new Object)},t.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return rn((function(){return Jr(self.self)}),arguments)},t.wbg.__wbg_window_c6fb939a7f436783=function(){return rn((function(){return Jr(window.window)}),arguments)},t.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return rn((function(){return Jr(globalThis.globalThis)}),arguments)},t.wbg.__wbg_global_207b558942527489=function(){return rn((function(){return Jr(r.g.global)}),arguments)},t.wbg.__wbindgen_is_undefined=function(e){return void 0===Fr(e)},t.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return rn((function(e,t,r){return Jr(Fr(e).call(Fr(t),Fr(r)))}),arguments)},t.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},t.wbg.__wbg_new_81740750da40724f=function(e,t){try{var r={a:e,b:t},n=new Promise((function(e,t){var n=r.a;r.a=0;try{return function(e,t,r,n){Tr.wasm_bindgen__convert__closures__invoke2_mut__h5cf7ebf0b823f44e(e,t,Jr(r),Jr(n))}(n,r.b,e,t)}finally{r.a=n}}));return Jr(n)}finally{r.a=r.b=0}},t.wbg.__wbg_resolve_b0083a7967828ec8=function(e){return Jr(Promise.resolve(Fr(e)))},t.wbg.__wbg_then_0c86a60e8fcfe9f6=function(e,t){return Jr(Fr(e).then(Fr(t)))},t.wbg.__wbg_then_a73caa9a87991566=function(e,t,r){return Jr(Fr(e).then(Fr(t),Fr(r)))},t.wbg.__wbg_length_c20a40f15020d68a=function(e){return Fr(e).length},t.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){return Jr(new Uint8Array(e>>>0))},t.wbg.__wbg_getindex_03d06b4e7ea3475e=function(e,t){return Fr(e)[t>>>0]},t.wbg.__wbg_setindex_0b7ede192dc5eca8=function(e,t,r){Fr(e)[t>>>0]=r},t.wbg.__wbg_set_1f9b04f170055d33=function(){return rn((function(e,t,r){return Reflect.set(Fr(e),Fr(t),Fr(r))}),arguments)},t.wbg.__wbg_random_26e2d782b541ca6b="function"==typeof Math.random?Math.random:(e="Math.random",function(){throw new Error("".concat(e," is not defined"))}),t.wbg.__wbindgen_object_clone_ref=function(e){return Jr(Fr(e))},t.wbg.__wbindgen_debug_string=function(e,t){var r=$r(Yr(Fr(t)),Tr.__wbindgen_malloc,Tr.__wbindgen_realloc),n=Hr;Zr()[e/4+1]=n,Zr()[e/4+0]=r},t.wbg.__wbindgen_throw=function(e,t){throw new Error(Wr(e,t))},t.wbg.__wbindgen_closure_wrapper176=function(e,t,r){var n=function(e,t,r,n){var o={a:e,b:t,cnt:1,dtor:r},i=function(){o.cnt++;var e=o.a;o.a=0;try{for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.apply(void 0,[e,o.b].concat(r))}finally{0===--o.cnt?(Tr.__wbindgen_export_2.get(o.dtor)(e,o.b),en.unregister(o)):o.a=e}};return i.original=o,en.register(i,o,o),i}(e,t,45,tn);return Jr(n)},t}function cn(e,t){return Tr=e.exports,un.__wbindgen_wasm_module=t,Qr=null,Vr=null,Tr}function un(e){return sn.apply(this,arguments)}function sn(){return sn=l(u().mark((function e(t){var n,o,i,a,s,l,f,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Tr){e.next=2;break}return e.abrupt("return",Tr);case 2:if("undefined"===typeof t&&(t=new URL(r(363),r.b)),n=an(),!("string"===typeof t||"function"===typeof Request&&t instanceof Request||"function"===typeof URL&&t instanceof URL)){e.next=15;break}e.prev=5,o=t,i=new Headers({"Accept-Encoding":"br","Content-Type":"application/wasm"}),t=fetch(t,{headers:i}).catch((function(e){var t,r,n=navigator.onLine;throw console.error("Fetch error:",e),console.error("Link:",o),console.error("isOnline:",n),{e:JSON.stringify(e),link:o,origin:null===(t=window)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.origin,message:null===e||void 0===e?void 0:e.message,stack:null===e||void 0===e?void 0:e.stack,messageSource:"Failed to fetch the WebAssembly module",isOnline:n}})),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),a=navigator.onLine,{e:JSON.stringify(e.t0),link:o,message:null===e.t0||void 0===e.t0?void 0:e.t0.message,stack:null===e.t0||void 0===e.t0?void 0:e.t0.stack,messageSource:"Failed to setup fetch for the WebAssembly module",isOnline:a};case 15:return e.prev=16,e.t1=nn,e.next=20,t;case 20:return e.t2=e.sent,e.t3=n,e.next=24,(0,e.t1)(e.t2,e.t3);case 24:return s=e.sent,l=s.instance,f=s.module,e.abrupt("return",cn(l,f));case 30:throw e.prev=30,e.t4=e.catch(16),console.error("WebAssembly load error:",e.t4),console.error("Input type:",typeof t),console.error("Input URL:",o),p=navigator.onLine,c(c({},{name:e.t4.name,message:e.t4.message,stack:e.t4.stack,fileName:e.t4.fileName,lineNumber:e.t4.lineNumber,columnNumber:e.t4.columnNumber,inputType:typeof t,inputURL:o,isOnline:p,messageSource:"WebAssembly load error"}),{},{e:JSON.stringify(e.t4,Object.getOwnPropertyNames(e.t4))});case 38:case"end":return e.stop()}}),e,null,[[5,11],[16,30]])}))),sn.apply(this,arguments)}const ln=un;var fn=null;function pn(){return dn.apply(this,arguments)}function dn(){return(dn=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fn||(fn=ln()),e.next=3,fn;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e){return gn.apply(this,arguments)}function gn(){return(gn=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn();case 2:return e.abrupt("return",(r=t,Br(Tr.get_fingerprint(Jr(r)))));case 3:case"end":return e.stop()}var r}),e)})))).apply(this,arguments)}function hn(e){var t="function"==typeof Map?new Map:void 0;return hn=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(Nt){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(h())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&m(o,r.prototype),o}(e,arguments,g(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,e)},hn(e)}var yn=function(e){function t(e,r){var n;return p(this,t),(n=b(this,t,[e])).name=n.constructor.name,n.detail=r,Error.captureStackTrace&&Error.captureStackTrace(n,n.constructor),Nr({msg:e,errInfo:n}),n}return w(t,e),v(t)}(hn(Error)),bn=function(e){var t=String.fromCharCode.apply(String,Q(new Uint8Array(e)));return btoa(t)},mn=function(e){for(var t=atob(e),r=new ArrayBuffer(t.length),n=new Uint8Array(r),o=0,i=t.length;o<i;o++)n[o]=t.charCodeAt(o);return r},wn={name:"ECDSA",namedCurve:"P-256"};const kn={ECDSA_CONFIG:wn,generateKeyPair:function(){var e=l(u().mark((function e(){var t,r,n,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,crypto.subtle.generateKey(wn,!0,["sign","verify"]);case 3:return t=e.sent,e.next=6,crypto.subtle.exportKey("spki",t.publicKey);case 6:return r=e.sent,n=bn(r),e.next=10,crypto.subtle.exportKey("pkcs8",t.privateKey);case 10:return o=e.sent,i=bn(o),e.abrupt("return",{privateKey:i,publicKey:n});case 15:throw e.prev=15,e.t0=e.catch(0),new yn({msg:"common.generateKeyPair"});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),getSignature:function(){var e=l(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.content,n=t.privateKey,e.prev=1,e.next=4,crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},n,(new TextEncoder).encode(r));case 4:return o=e.sent,e.abrupt("return","{P1363}".concat(bn(o)));case 8:throw e.prev=8,e.t0=e.catch(1),new yn("common.getSi",{priKey:n});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};r(198),r(817),Y();var xn=Y(),_n="object"===typeof r.g&&null!==r.g&&r.g.Object===Object&&r.g,Sn="object"===typeof xn&&null!==xn&&xn.Object===Object&&xn,In="object"===typeof self&&null!==self&&self.Object===Object&&self;Sn||_n||In||Function("return this")();function An(e,t,r){var n,o,i=Ot||{},a=i.locale,u=i.ipRegion,s=i.envSign,l=i.langPath,p=i.userAgent,d=i.site;!function(e,t){var r,n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i18n",a=!f()&&(null===(r=window)||void 0===r||null===(n=r.location)||void 0===n?void 0:n.pathname)||"",u="".concat(i," -- ").concat(a?"".concat(e," -- ").concat(a):e);t&&(u="".concat(u," -- ").concat(t));var s="object"===typeof t&&null!==t&&void 0!==t&&t.devid?t.devid:!f()&&(null===(o=localStorage)||void 0===o?void 0:o.devid)||"";ot.info(u,{message:c(c({},t),{},{devid:s}),customConfig:{error:{type:e},project:{id:243,token:"2b65098fbd898b1419f8241753fbf146"}}})}(e,{project:null===xn||void 0===xn||null===(n=xn.__INIT_STATE__)||void 0===n||null===(o=n.appContext)||void 0===o?void 0:o.project,locale:a,ipRegion:u,envSign:s,langPath:l,userAgent:p,site:d,message:r},t)}const Cn=new(v((function e(){var t=this;p(this,e),this.remove=function(e,r){var n=t.slist[e];n&&r&&n.forEach((function(e,t){e.id===r&&n.splice(t,1)}))},this.listen=function(e,r,n){if("function"!==typeof r)return null;t.slist[e]||(t.slist[e]=[]);var o="".concat(e).concat(t.slist[e].length);return t.slist[e].push({id:o,fn:r,once:n,count:0}),{id:o,remove:function(){t.remove(e,o)}}},this.trigger=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i=t.slist[e];i&&0!==i.length&&i.forEach((function(r){var o=r,i=o.id,a=o.fn,c=o.once;a&&(a.apply(t,n),o.count++,c&&t.remove(e,i))}))},this.slist=function(){if(f())return{};var e=Y();return e._global_subscribe_list||(e._global_subscribe_list={}),e._global_subscribe_list}()})));var En=new(function(){return v((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;p(this,e),this.cache=new Map,this.keysIndex=0,this.keys=Array.from(new Array(t))}),[{key:"delete",value:function(e){this.keys=this.keys.map((function(t){return t===e?void 0:t})),this.keysIndex=(this.keysIndex-1)%this.keys.length,this.cache.delete(e)}},{key:"clear",value:function(){this.cache.clear(),this.keys.fill(void 0),this.keysIndex=0}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){if(!this.keys.includes(e)){var r=this.keys[this.keysIndex];void 0!==r&&this.cache.delete(r),this.keys[this.keysIndex]=e,this.keysIndex=(this.keysIndex+1)%this.keys.length}this.cache.set(e,t)}}])}()),jn="ok-storagemutated",On="ok-storagemutated-1",Tn=new Map;var Pn=Y();function Ln(e){var t=e.data;t&&t.type===On&&Cn.trigger(jn,t.changedParts)}function Nn(e,t){return Object.entries(t).every((function(t){var r=Or(t,2),n=r[0],o=r[1];return function(e,t,r){switch(t){case"$eq":return e===r;case"$ne":return e!==r;case"$gt":return e>r;case"$lt":return e<r;case"$gte":return e>=r;case"$lte":return e<=r;case"$in":return Array.isArray(r)&&r.includes(e);default:throw new Error("Unsupported operator: ".concat(t))}}(e,n,o)}))}function Dn(e,t,r){return"object"===typeof r?Nn(e[t],r):e[t]===r}function Rn(e,t,r){return function(e,t){return t?e.sort((function(e,r){for(var n=Object.entries(t),o=0;o<n.length;o++){var i=Or(n[o],2),a=i[0],c=i[1];if(e[a]<r[a])return-c;if(e[a]>r[a])return c}return 0})):e}(e.filter((function(e){return function(e,t){for(var r,n,o=[],i=Object.entries(t),a=0;a<i.length;a++){var c=Or(i[a],2),u=c[0],s=c[1];"$or"===u?r=s:"$where"===u?n=t:o.push([u,s])}return!(n&&!function(e,t){return t.$where(e)}(e,n))&&(!(r&&!r.some((function(t){return Object.entries(t).every((function(t){var r=Or(t,2),n=r[0],o=r[1];return Dn(e,n,o)}))})))&&o.every((function(t){var r=Or(t,2),n=r[0],o=r[1];return Dn(e,n,o)})))}(e,t)})),r)}function Un(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Kn="idb",Fn=new(function(){return v((function e(){p(this,e),this.queue=[],this.isProcessing=!1}),[{key:"enqueue",value:function(){var e=l(u().mark((function e(t){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){r.queue.push({fn:t,resolve:e,reject:n}),r.isProcessing||r.processQueue()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"processQueue",value:function(){var e=l(u().mark((function e(){var t,r,n,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.queue.length){e.next=3;break}return this.isProcessing=!1,e.abrupt("return");case 3:return this.isProcessing=!0,t=this.queue.shift(),r=t.fn,n=t.resolve,o=t.reject,e.prev=5,e.next=8,r();case 8:i=e.sent,n(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),o(e.t0);case 15:return e.next=17,this.processQueue();case 17:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(){return e.apply(this,arguments)}}()}])}()),Mn=function(){return v((function e(t){var r=t.storeName,n=t.indices,o=t.options,i=t.db,a=t.enableCache;p(this,e),this.db=i,this.storeName=r,this.indices=null!==n&&void 0!==n?n:[],this.options=o,this.enableCache=null===a||void 0===a||a,this.storeExist=!1}),[{key:"createIndex",value:function(e,t,r){var n;if(f())return!1;if(!this.db.autoVersion)throw new Error("Can not create index dynamically when version is set");var o={indexName:e,keyPath:t,options:null!==r&&void 0!==r?r:{}};this.db.setVersion(this.db.vero+1);var i=this.db.storesConfig[this.storeName];return!!i&&(null!==(n=i.indices)&&void 0!==n&&n.length||(i.indices=[]),i.indices.push(o),this.indices.push(o),!0)}},{key:"getPrimaryKey",value:function(){var e,t;return"string"===typeof(null===(e=this.options)||void 0===e?void 0:e.keyPath)?null===(t=this.options)||void 0===t?void 0:t.keyPath:""}},{key:"performSpecialQuery",value:function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(r=this.indices,n=this.getPrimaryKey(),o=t?[n].concat(Q(r.map((function(e){return"string"===typeof e.keyPath?e.keyPath:""})))).find((function(e){return e&&Object.hasOwn(t,e)})):void 0,!o){e.next=22;break}if(i=t[o],a="object"===typeof i&&"$in"in i,"string"!==typeof i&&"number"!==typeof i&&!a){e.next=22;break}if(o!==n){e.next=15;break}return e.t0=o,e.next=13,this.get(a?i.$in:[i]);case 13:return e.t1=e.sent,e.abrupt("return",{key:e.t0,data:e.t1});case 15:if(!(c=r.find((function(e){return e.keyPath===o})))){e.next=22;break}return e.t2=o,e.next=20,this.getAllFromIndex(c.indexName,a?i.$in:i);case 20:return e.t3=e.sent,e.abrupt("return",{key:e.t2,data:e.t3});case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheData",value:function(e){if(!this.enableCache)return null;var t=this.db.dbInfo.dbName,r="".concat(t,"_").concat(this.storeName,"_").concat(e);return En.get(r)}},{key:"setCacheData",value:function(e,t){if(this.enableCache){var r=this.db.dbInfo.dbName;En.set("".concat(r,"_").concat(this.storeName,"_").concat(e),t)}}},{key:"getApi",value:function(){var e=l(u().mark((function e(t,r){var n,o,i,a=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f()){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,this.db.basicOpenStore("get",this.storeName);case 4:return n=e.sent,o=n.transaction,i=n.store,this.transaction=o,this.store=i,e.abrupt("return",new Promise((function(e,n){var i,c=Array.isArray(r),u=t(),s=c?r:[r],l=[];(c?u:[u]).forEach((function(e,t){var r=s[t];e.onsuccess=function(){i=e.result;var t=e.source.keyPath;r&&(a.getPrimaryKey()&&t===a.getPrimaryKey()&&i&&a.setCacheData(r,i));i&&(Array.isArray(i)?l.push(Q(i)):l.push(i))}})),o.oncomplete=function(){var t;null===(t=a.db.db)||void 0===t||t.close(),a.db.versionChange&&(a.db.versionChange=!1),e(c?l:l[0])},o.onerror=function(e){var t,r,o=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)||{},i=o.name,c=o.message;An("".concat(Kn,"-getDB-catch-err"),Kn,"".concat(i,": ").concat(c)),null===(r=a.db.db)||void 0===r||r.close(),n(e)}})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getFromIndex",value:function(){var e=l(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getAllFromIndex(t,r,!1));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAllFromIndex",value:function(){var e=l(u().mark((function e(t,r){var n,o=this,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>2&&void 0!==i[2])||i[2],e.abrupt("return",this.baseGet(r,(function(e){var r=o.store.index(t);return n?r.getAll(e):r.get(e)}),(function(){return null})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=l(u().mark((function e(t){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.baseGet(t,(function(e){return r.store.get(e)}),(function(e){return r.getCacheData(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"liveQuery",value:function(e){var t=this;return function(e,t){var r,n,o=!1;return{subscribe:function(i){function a(){return c.apply(this,arguments)}function c(){return(c=l(u().mark((function t(){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r){t.next=7;break}return t.next=4,r;case 4:a=t.sent,t.next=12;break;case 7:return r=e(),t.next=10,r;case 10:a=t.sent,r=null;case 12:o=!0,n=a,i(a,null),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),i(null,t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}o&&i(n,null),a();var s=Cn.listen(jn,(function(e){e===t&&a()}),!1);return{unsubscribe:function(){null===s||void 0===s||s.remove()}}},hasValue:function(){return o},getValue:function(){return n}}}((function(){return t.query(e)}),this.getQueryRange())}},{key:"query",value:function(){var e=l(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performSpecialQuery(t);case 2:if(!(r=e.sent)){e.next=7;break}return delete(n=c({},t))[r.key],e.abrupt("return",Rn(r.data,n));case 7:return e.next=9,this.getAll();case 9:if(o=e.sent,!t){e.next=12;break}return e.abrupt("return",Rn(o,t));case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=l(u().mark((function e(t,r){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn.enqueue((function(){return n.getApi((function(){return n.store.getAll(t,r)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getKey",value:function(){var e=l(u().mark((function e(t){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn.enqueue((function(){return r.getApi((function(){return r.store.getKey(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllKeys",value:function(){var e=l(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn.enqueue((function(){return t.getApi((function(){return t.store.getAllKeys()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"count",value:function(){var e=l(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn.enqueue((function(){return t.getApi((function(){return t.store.count()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onMutate",value:function(){!function(e){Tn.set(e,!0);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Cn.trigger.apply(Cn,[e].concat(r)),Tn.set(e,!1)}(jn,this.getQueryRange())}},{key:"handleGetCache",value:function(e,t){var r=Array.isArray(e),n=[];if(r){var o=Q(e);if(e.forEach((function(e,r){var i=t(e);i&&(Array.isArray(i)?n.push.apply(n,Q(i)):n.push(i),o.splice(r,1))})),0===o.length)return n}else if(e){var i=t(e);if(i)return i}return null}},{key:"baseGet",value:function(){var e=l(u().mark((function e(t,r,n){var o,i,a,c=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Array.isArray(t),!(i=this.handleGetCache(t,n))){e.next=4;break}return e.abrupt("return",i);case 4:return e.next=6,Fn.enqueue((function(){return c.getApi((function(){return o?t.map((function(e){return r(e)})):r(t)}),t)}));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setApi",value:function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c=this,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(s.length>1&&void 0!==s[1]?s[1]:{}).silent,n=void 0!==r&&r,!f()){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,this.db.basicOpenStore("set",this.storeName);case 5:return o=e.sent,i=o.transaction,a=o.store,this.transaction=i,this.store=a,e.abrupt("return",new Promise(function(){var e=l(u().mark((function e(r,o){var i,a,s,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){Un(e)},e.next=3,t();case 3:if(a=e.sent){e.next=8;break}return null===(s=c.db.db)||void 0===s||s.close(),o(!1),e.abrupt("return");case 8:l=a.request,Array.isArray(l)?(l.forEach((function(e){e.onerror=i})),f=l[l.length-1]):f=l,f.onsuccess=function(){var e;c.db.versionChange&&(c.db.versionChange=!1),null===(e=c.db.db)||void 0===e||e.close(),r(!0),n||c.onMutate()},f.onerror=function(e){var t,r,n=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)||{},i=n.name,a=n.message;An("".concat(Kn,"-setDB-catch-err"),Kn,"".concat(i,": ").concat(a)),o(!1),null===(r=c.db.db)||void 0===r||r.close()};case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c,s,l=this,f=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=f.length>1&&void 0!==f[1]?f[1]:{}).clear,o=void 0!==n&&n,i=r.silent,a=void 0!==i&&i,c=this.getPrimaryKey(),s=function(e){if(c){var r=t[c];r&&l.setCacheData(r,e)}},e.abrupt("return",Fn.enqueue((function(){return l.setApi((function(){return new Promise((function(e){var r=function(){if(Array.isArray(t)){var r=t.map((function(e){return s(e),l.store.put(e)}));return l.enableCache&&En.clear(),void e({request:r,method:"set"})}s(t),e({request:l.store.put(t),method:"set"})};if(o){var n=l.store.clear();n.onsuccess=function(){r()},n.onerror=function(){e(null)}}else r()}))}),{silent:a})})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=l(u().mark((function e(t){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn.enqueue((function(){return r.setApi((function(){return{request:(Array.isArray(t)?t:[t]).map((function(e){return r.enableCache&&En.delete("".concat(r.db.dbInfo.dbName,"_").concat(r.storeName,"_").concat(e)),r.store.delete(e)})),method:"delete"}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryRange",value:function(){return[this.db.dbInfo.dbName,this.storeName].join("_")}},{key:"clear",value:function(){var e=l(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn.enqueue((function(){return t.setApi((function(){return t.enableCache&&En.clear(),{request:t.store.clear(),method:"clear"}}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteStore",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",this.db.deleteStore(t));case 2:return e.abrupt("return",this.db.deleteStore(this.storeName));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openStore",value:function(e,t){return this.db.openStore(e,t)}},{key:"getInstance",value:function(){var e=this;return new Promise((function(t,r){var n=indexedDB.open(e.db.dbName);n.onsuccess=function(){var r,o,i=null===n||void 0===n?void 0:n.result,a=null===i||void 0===i?void 0:i.version,c=null===i||void 0===i||null===(r=i.objectStoreNames)||void 0===r||null===(o=r.contains)||void 0===o?void 0:o.call(r,e.storeName);e.storeExist=c,e.db.autoVersion&&(e.db.vero=a+1,c||e.db.setVersion(a+1)),null===i||void 0===i||i.close(),t(e)},n.onerror=function(e){var t;r(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)}}))}},{key:"setVersion",value:function(e){this.db.setVersion(e)}},{key:"basicOpenStore",value:function(e,t){return this.db.basicOpenStore(e,t)}}])}(),Bn="idb";!function(){if(!f())if("undefined"!==typeof BroadcastChannel){var e=new BroadcastChannel(On);Cn.listen(jn,(function(t){Tn.get(jn)&&e.postMessage(t)}),!1),e.onmessage=function(e){null!==e&&void 0!==e&&e.data&&(En.clear(),Cn.trigger(jn,e.data))}}else if("undefined"!==typeof Pn&&"undefined"!==typeof navigator){Cn.listen(jn,(function(e){"undefined"!==typeof localStorage&&Tn.get(jn)&&localStorage.setItem(On,JSON.stringify({trig:Math.random(),type:On,changedParts:e})),"object"===typeof(null===Pn||void 0===Pn?void 0:Pn.clients)&&Q(null===Pn||void 0===Pn?void 0:Pn.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){t.postMessage({type:On,changedParts:e})}))}),!1),"undefined"!==typeof(null===Pn||void 0===Pn?void 0:Pn.addEventListener)&&(null===Pn||void 0===Pn||Pn.addEventListener("storage",(function(e){if(e.key===On){var t=JSON.parse(e.newValue);t&&Ln({data:t})}})));var t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",Ln)}}();const zn=function(){function e(t){p(this,e);var r="string"===typeof t?{dbName:t,config:{}}:"object"===typeof t?t:{},n=r.dbName,o=r.config,i=r.version;this.dbInfo={dbName:null!==n&&void 0!==n?n:"FE",indexInfo:[],options:{}},this.dbName="OK_".concat(this.dbInfo.dbName.toUpperCase()),this.db={},this.store={},this.stores=new Map,this.transaction={},this.storesConfig=null!==o&&void 0!==o?o:{},this.versionChange=!1,this.dbData={},this.autoVersion="undefined"===typeof i,this.vero=null!==i&&void 0!==i?i:1,this.storeExist=!1,this.initStores()}return v(e,[{key:"initStores",value:function(){var e=this;Object.keys(this.storesConfig).forEach((function(t){var r=e.storesConfig[t],n=r.indices,o=r.options;e.stores.has(t)||e.stores.set(t,new Mn({storeName:t,indices:n,options:o,db:e}))}))}},{key:"setVersion",value:function(e){this.versionChange=!0,this.vero=e}},{key:"basicOpenStore",value:function(e,t){var r=this,n=this.versionChange;return new Promise((function(o,i){var a;if(n||!r.autoVersion){var c=r.vero;a=indexedDB.open(r.dbName,c)}else a=indexedDB.open(r.dbName);a.onupgradeneeded=function(e){try{var t,n,o=e.target,i=null===(t=a)||void 0===t?void 0:t.result;if(r.db=i,Object.keys(r.storesConfig).forEach((function(e){var t=r.storesConfig[e],a=t.options,c=t.indices;if(i.objectStoreNames.contains(e)){var u=o.transaction;n=u.objectStore(e)}else n=i.createObjectStore(e,a);null===c||void 0===c||c.forEach((function(e){var t=e.indexName,r=e.keyPath,o=e.options;n.indexNames.contains(t)||n.createIndex(t,r,o)}));for(var s=function(){var e=n.indexNames[l];null!==c&&void 0!==c&&c.find((function(t){return t.indexName===e}))||n.deleteIndex(e)},l=0;l<n.indexNames.length;l++)s()})),!r.autoVersion)for(var c=function(){var e=i.objectStoreNames[u];Object.keys(r.storesConfig).find((function(t){return t===e}))||i.deleteObjectStore(e)},u=0;u<i.objectStoreNames.length;u++)c()}catch(p){var s=p||{},l=s.name,f=s.message;An("".concat(Bn,"-openDB-catch-err-in-upgrade"),Bn,"".concat(l,": ").concat(f))}},a.onsuccess=function(){try{var n,c=null===(n=a)||void 0===n?void 0:n.result;if(r.db=c,t){var u="get"===e?"readonly":"readwrite",s=c.transaction(t,u),l=s.objectStore(t);o({store:l,transaction:s})}else o({store:null,transaction:null})}catch(v){var f=v||{},p=f.name,d=f.message;An("".concat(Bn,"-openDB-catch-err-in-success"),Bn,"".concat(p,": ").concat(d)),i(d)}},a.onerror=function(){var e,t,n,o=(null===(e=a)||void 0===e?void 0:e.error)||{},c=o.name,u=o.message;null!==u&&void 0!==u&&null!==(t=u.includes)&&void 0!==t&&t.call(u,"The connection was closed")||An("".concat(Bn,"-openDB-catch-err-in-error"),Bn,"".concat(c,": ").concat(u)),null!==u&&void 0!==u&&null!==(n=u.includes)&&void 0!==n&&n.call(u,"less than the existing version")?(indexedDB.deleteDatabase(r.dbName),i(new Error("".concat(u," Please reload the page!")))):i(u)},a.onblocked=function(){var e,t=(null===(e=a)||void 0===e?void 0:e.error)||{},r=t.name,n=t.message;An("".concat(Bn,"-openDB-catch-block"),Bn,"".concat(r,": ").concat(n)),i(new Error("Database is outdated, please reload the page!"))}}))}},{key:"openStore",value:function(){var e=l(u().mark((function e(t,r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.stores.has(t)){e.next=2;break}return e.abrupt("return",this.stores.get(t));case 2:return this.storesConfig[t]={options:r},this.initStores(),n=this.stores.get(t),e.abrupt("return",n.getInstance());case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteStore",value:function(e){var t=this;return!f()&&new Promise((function(r,n){if(t.stores.get(e)){var o=t.stores.get(e);delete t.storesConfig[e],t.stores.delete(e),o.getInstance().then((function(o){if(o.storeExist){var i=indexedDB.open(t.dbName,t.vero);i.onupgradeneeded=function(){var t,n=null===i||void 0===i?void 0:i.result;null===n||void 0===n||null===(t=n.deleteObjectStore)||void 0===t||t.call(n,e),null===n||void 0===n||n.close(),r(!0)},i.onerror=function(e){var t=null===i||void 0===i?void 0:i.result;null===t||void 0===t||t.close(),n(e)}}})).catch((function(e){n(e)}))}}))}}],[{key:"deleteDb",value:function(){var e=l(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:if("string"!==typeof t){e.next=7;break}if("OK_FE"!==(r="OK_".concat(t.toUpperCase()))){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",new Promise((function(e,t){var n=indexedDB.deleteDatabase(r);n.onsuccess=function(){e(!0)},n.onerror=function(e){t(e)}})));case 7:if(!Array.isArray(t)){e.next=10;break}return n=t.map((function(e){var t="OK_".concat(e.toUpperCase());return"OK_FE"===t||new Promise((function(e,r){var n=indexedDB.deleteDatabase(t);n.onsuccess=function(){e(!0)},n.onerror=function(e){r(e)}}))})),e.abrupt("return",Promise.all(n).then((function(e){return e.every((function(e){return!0===e}))})));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"openStore",value:function(){var t=l(u().mark((function t(r,n){var o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new e,t.abrupt("return",o.openStore(r,n));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}])}();const Vn=v((function e(){p(this,e),this.saveLogInDB=function(){var e=l(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,n=t.value,e.prev=1,e.next=4,zn.openStore("ont",{keyPath:"id"});case 4:return o=e.sent,e.next=7,o.set({id:r,value:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Nr({msg:"err:DB_unavailable"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}));var qn=function(e){function t(){var e;p(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=b(this,t,[].concat(n))).STORAGE_KEY="lastLocation",e.LOCATIONS={PCA:"PCA",LS:"LS"},e.setLastLocation=function(t){X.set(e.STORAGE_KEY,t)},e.getLastLocation=function(){return X.get(e.STORAGE_KEY)},e.getDecryptErrorInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ivInLS,r=e.encryptedPrivateKey,n=e.secretKeyVersion;try{var o=X.get(ar);if(o){var i=atob(o),a=navigator,c={deviceMemory:a.deviceMemory,hardwareConcurrency:a.hardwareConcurrency,maxTouchPoints:a.maxTouchPoints},u={iv:t,encryptedPrivateKey:r?bn(r):void 0,encryptFingerprint:i,decryptFingerprintInLS:atob(X.get(cr)),wasmVersion:n||X.get(ir),navEn:X.get(sr),navDe:JSON.stringify(c)};return{msg:"decryptPriKey.wasm=".concat(n),detail:u}}return{msg:"decryptPriKey.noEnFingerprintInLs",detail:{reason:"noEnFingerprintInLs"}}}catch(Tt){return{detail:{}}}},e}return w(t,e),v(t)}(Vn),Wn=new qn;const Jn={saveKeyPair:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.pcClient.pca.setItem(Gt,t.privateKey);case 3:return e.next=5,window.pcClient.pca.setItem($t,t.publicKey);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Nr({msg:"clientSaveKeyPair"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};var Hn=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c,s,l,f,p,d,v,g,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.version,n=t.isEncrypt,e.prev=1,e.next=4,vn({version:r});case 4:o=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new yn("getAesKey.getFingerprint");case 10:return a=(i=o).secretKey,c=i.version,s=i.latestVersion,l=i.rawKey,e.next=13,crypto.subtle.importKey("raw",a,"AES-GCM",!0,["encrypt","decrypt"]);case 13:return f=e.sent,n?(X.set(ar,btoa(l)),p=navigator,d=p.deviceMemory,v=p.hardwareConcurrency,g=p.maxTouchPoints,h={deviceMemory:d,hardwareConcurrency:v,maxTouchPoints:g},X.set(sr,JSON.stringify(h))):X.set(cr,btoa(l)),e.abrupt("return",{aesKey:f,secretKeyVersion:c,latestVersion:s});case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Xn=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rawPrivateKey,n=t.isUpdate,e.next=3,Hn({isEncrypt:!0});case 3:if(o=e.sent,i=o.aesKey,a=o.secretKeyVersion,!n||a!==X.get(ir)){e.next=8;break}return e.abrupt("return",!1);case 8:return c=crypto.getRandomValues(new Uint8Array(12)),e.next=11,crypto.subtle.encrypt({name:"AES-GCM",iv:c},i,mn(r));case 11:return s=e.sent,e.abrupt("return",{secretKeyVersion:a,iv:btoa(c),encryptedPrivateKey:bn(s)});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn=function(){var e=l(u().mark((function e(){var t,r,n,o,i,a,c,s,l,f,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={iv:new Uint8Array(atob(X.get(or)).split(",")),secretKeyVersion:X.get(ir),encryptedPrivateKey:mn(X.get(rr))},r=t.secretKeyVersion,n=t.iv,o=t.encryptedPrivateKey,e.next=3,Hn({version:r});case 3:return i=e.sent,e.prev=4,a=i.aesKey,c=i.latestVersion,e.next=9,crypto.subtle.decrypt({name:"AES-GCM",iv:n},a,o);case 9:if(s=e.sent,!(r!==c)){e.next=14;break}return e.next=14,Xn({rawPrivateKey:s,isUpdate:!0});case 14:return e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(4),l=Wn.getDecryptErrorInfo({ivInLS:X.get(or),encryptedPrivateKey:o,secretKeyVersion:r}),f=l.msg,p=l.detail,new yn(f,p);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}(),$n=function(){var e=l(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vr.privateKey){e.next=2;break}return e.abrupt("return",vr.privateKey);case 2:return e.next=4,Gn();case 4:return t=e.sent,e.next=7,crypto.subtle.importKey("pkcs8",t,kn.ECDSA_CONFIG,!1,["sign"]);case 7:return r=e.sent,vr.privateKey=r,e.abrupt("return",{privateKey:r,rawPrivateKey:t});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qn=function(){var e=l(u().mark((function e(t){var r,n,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn({rawPrivateKey:t});case 2:r=e.sent,n=r.secretKeyVersion,o=r.iv,i=r.encryptedPrivateKey,X.set(ir,n),X.set(or,o),X.set(ur,t),X.set(rr,i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zn=function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(t.privateKey);case 2:X.set(nr,t.publicKey);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const Yn={getPublicKey:function(){var e=l(u().mark((function e(){var t,r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ot.isApp){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,t={},e.prev=4,e.next=7,$n();case 7:r=e.sent,n=r.rawPrivateKey,t={privateKey:bn(n),publicKey:X.get(nr)},e.next=19;break;case 12:return e.prev=12,e.t0=e.catch(4),e.next=16,kn.generateKeyPair();case 16:return t=e.sent,e.next=19,Zn(t);case 19:return qt()&&Jn.saveKeyPair(t),o=X.get(nr),X.set(tr,_t.get(Ht)),Wn.saveLogInDB({key:"loginPublicKey",value:"web_".concat(o)}),Nr({msg:"success:web.getPubKey"}),e.abrupt("return",o);case 27:return e.prev=27,e.t1=e.catch(2),e.abrupt("return",Nr({msg:"err:web.getPubKey",errInfo:e.t1}));case 30:case"end":return e.stop()}}),e,null,[[2,27],[4,12]])})));return function(){return e.apply(this,arguments)}}(),getSignature:function(){var e=l(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,vr.privateKey){e.next=7;break}if(X.get(rr)){e.next=5;break}throw new yn("noPriKeyInLS");case 5:return e.next=7,$n();case 7:return e.next=9,kn.getSignature({content:t,privateKey:vr.privateKey});case 9:return r=e.sent,Nr({msg:"success:web.getSi"}),Wn.setLastLocation(Wn.LOCATIONS.LS),e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(0),Nr({msg:"err:getSi",errInfo:e.t0,extra:{s1:e.t0.message}}),e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()};var eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requestUrl,r=e.fetchConfig,n=e.ontConfig,o=t;try{var i=new URL(t);o=i.pathname+i.search}catch(Tt){}var a=o.replace("?","");if(["post","put"].includes(r.method)){a=o=o.split("?")[0];var c=r.body;if(c)if(c instanceof FormData){var u=JSON.stringify(Object.fromEntries(c));a="".concat(o,"{").concat(u,"}")}else a="".concat(o).concat(c)}return a+=n.timestamp},to=function(){var e=l(u().mark((function e(){var t,r,n,o,i,a,c,s,l=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=l.length>0&&void 0!==l[0]?l[0]:{}).requestUrl,n=void 0===r?"":r,o=t.fetchConfig,i=void 0===o?{method:"GET"}:o,a=t.ontConfig,c=eo({requestUrl:n,fetchConfig:i,ontConfig:a}),e.next=4,Yn.getSignature(c);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ro={getPublicKey:Yn.getPublicKey,getSignature:to,getSignatureByContent:Yn.getSignature},no=function(e){if(!(_t.get(e)||localStorage.getItem(e)))switch(e){case"ok-helper-domain":localStorage.setItem(e,window.location.hostname);break;case"ok_prefer_number":localStorage.setItem(e,Date.now())}return _t.get(e)||localStorage.getItem(e)},oo=function(){var e=l(u().mark((function e(){var t,r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.gpu){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,navigator.gpu.requestAdapter();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return","");case 7:return e.prev=7,e.next=10,null===(r=t.requestAdapterInfo)||void 0===r?void 0:r.call(t);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0=t.info;case 13:return n=e.t0,e.abrupt("return",JSON.stringify({architecture:n.architecture,description:n.description,device:n.device,vendor:n.vendor}));case 17:return e.prev=17,e.t1=e.catch(7),Nr({msg:"err:getGPUInfo",errInfo:e.t1}),e.abrupt("return","");case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(){return e.apply(this,arguments)}}(),io=function(){var e=l(u().mark((function e(){var t,r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t={},navigator)t[r]=navigator[r];return e.next=4,oo();case 4:return t.gpu=e.sent,n=JSON.stringify(t),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ao=function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),co=function(e){return sessionStorage.getItem(e)||window[e]},uo="efp_id",so=function(){X.remove(uo)},lo=Y().crypto,fo={mathRandom:function(){return Math.random()},cryptoRandom:function(e){var t=e||{},r=t.bytesLength,n=void 0===r?1:r,o=t.UnitArray,i=void 0===o?Uint32Array:o,a=new i(n);if(lo)return lo.getRandomValues(a);for(var c=Math.pow(2,8*i.BYTES_PER_ELEMENT)-1,u=0;u<n;u++)a[u]=Math.floor(Math.random()*c);return a},get:function(e){var t=(e||{}).useMathRandom;if(void 0!==t&&t)return fo.mathRandom();if(lo){var r=new Uint32Array(1);return lo.getRandomValues(r),r[0]/Math.pow(2,32)}return fo.mathRandom()}},po=function(e){function t(){var e;p(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=b(this,t,[].concat(n))).devIdMemory="",e.logForDevIdDiff=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.msg,n=t.moreInfo,o=_t.get(Ht),i=localStorage.getItem(Zt),e.next=6,zn.openStore("ont",{keyPath:"id"});case 6:return a=e.sent,e.next=9,a.get("devId");case 9:s=e.sent,Nr({msg:"devIdChange:".concat(r),errInfo:c(c({},n),{},{devIdInCok:o,devIdInLS:i,devIdInDB:s})}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),e}return w(t,e),v(t)}(Vn),vo=new po,go=function(e){_t.set(Ht,e,{expires:730}),localStorage.setItem(Zt,e)},ho=function(){var e=_t.get(Ht)||localStorage.getItem(Zt);return e?function(e){var t=_t.get(Ht),r=localStorage.getItem(Zt);t&&r&&t===r||(vo.logForDevIdDiff({msg:"diff_with_cookie&LS",moreInfo:{devId:e}}),go(e))}(e):(e=function(){var e=Date.now(),t=window.performance;return"undefined"!==typeof t&&"function"===typeof t.now&&(e+=t.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*fo.get())%16|0;return("x"===t?r:3&r|8).toString(16)}))}(),go(e),vo.saveLogInDB({key:"devId",value:e})),e},yo=function(e){var t=localStorage.getItem(er);t&&t!==e&&vo.logForDevIdDiff({msg:"diff_with_loginProject",moreInfo:{devId:e,loginDevId:t}});var r=X.get(tr);r&&r!==e&&(vo.logForDevIdDiff({msg:"diff_with_getPublicKey",moreInfo:{devId:e,devIdPublic:r}}),X.remove(tr)),vo.devIdMemory?vo.devIdMemory!==e&&vo.logForDevIdDiff({msg:"diff_with_pageFirstLoad",moreInfo:{devId:e,devIdMemory:vo.devIdMemory}}):vo.devIdMemory=e},bo=function(){var e=l(u().mark((function e(){var t,r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f()){e.next=3;break}return n=_t.get(Ht),e.abrupt("return",n||"");case 3:if(!Ot.isApp||null===(t=window)||void 0===t||!t.jsbridge){e.next=8;break}return e.next=6,window.jsbridge.getDeviceID();case 6:return r=e.sent,e.abrupt("return",r);case 8:return r=ho(),yo(r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const mo={getDevId:bo,getDeviceId:ho,setDeviceId:go};var wo=function(){var e={path:"/",expires:1};return window.self!==window.top&&(e={path:"/",expires:1,SameSite:"None",secure:!0}),e},ko=function(){var e=l(u().mark((function e(){var t,r,n,o,i,a,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=wo(),r="fingerprint_id",n="fp_s",o=_t.get(r),i=_t.get(n),a={uninitialized:-2,notProfiled:-1,success:0,partial_success:1,failed:3,expired:4},s=Object.values(a).includes(Number(i)),!o||!s){e.next=9;break}return e.abrupt("return");case 9:if(o){e.next=19;break}return so(),_t.set(n,a.uninitialized,c({},t)),e.next=14,mo.getDevId();case 14:l=e.sent,_t.set(r,l,c({},t)),_t.set(n,a.notProfiled,c({},t)),e.next=20;break;case 19:s||(so(),_t.set(n,a.expired,c({},t)));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xo=0,_o=function(e,t){delete window[t],document.head.removeChild(e)};const So={ar_EH:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0634\u0628\u0643\u0629. \u064a\u064f\u0631\u062c\u0649 \u0627\u0644\u062a\u062d\u0642\u0642 \u0648\u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649",cs_CZ:"Chyba s\xedt\u011b. Zkontrolujte pros\xedm a zkuste to znovu.",de_DE:"Netzwerkfehler. Bitte pr\xfcfen und erneut versuchen",en_US:"Network error. Check and try again later.",en:"Network error. Check and try again later.",es_419:"Hubo un error de red. Comprueba tu conexi\xf3n e int\xe9ntalo de nuevo",es_ES:"Error de red. Comprueba tu conexi\xf3n e int\xe9ntalo de nuevo",fr_FR:"Erreur r\xe9seau, veuillez v\xe9rifier et r\xe9essayer",id_ID:"Jaringan error, silakan periksa dan coba lagi",it_IT:"Errore di rete; controlla e riprova",nl_NL:"Netwerk is abnormaal, controleer en probeer opnieuw",pl_PL:"B\u0142\u0105d sieci; sprawd\u017a i spr\xf3buj ponownie",pt_BR:"Erro de rede. Verifique e tente novamente",pt_PT:"Erro de rede. Verifique e tente novamente",ro_RO:"Eroare de re\u021bea, verifica\u021bi \u0219i \xeencerca\u021bi din nou",ru_RU:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443",tr_TR:"A\u011f hatas\u0131, l\xfctfen kontrol edip tekrar deneyin!",uk_UA:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043c\u0435\u0440\u0435\u0436\u0456, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0439 \u043f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u0441\u043f\u0440\u043e\u0431\u0443",vi_VN:"L\u1ed7i m\u1ea1ng, vui l\xf2ng ki\u1ec3m tra v\xe0 th\u1eed l\u1ea1i",zh_CN:"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u540e\u518d\u8bd5",zh_TW:"\u7db2\u7d61\u7570\u5e38\uff0c\u8acb\u6aa2\u67e5\u5f8c\u518d\u8a66"};const Io={ar_EH:"\u0627\u0644\u062e\u0627\u062f\u0645 \u0645\u0634\u063a\u0648\u0644 \u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0644\u0627\u062d\u0642\u064b\u0627",cs_CZ:"Server je zanepr\xe1zdn\u011bn. Zkuste to pros\xedm znovu pozd\u011bji.",de_DE:"Der Server ist \xfcberlastet. Versuchen Sie es sp\xe4ter erneut",en_US:"Server is busy. Try again later.",en:"Server is busy. Try again later.",es_419:"El servidor est\xe1 ocupado. Vuelve a intentarlo m\xe1s tarde.",es_ES:"El servidor est\xe1 ocupado. Int\xe9ntalo de nuevo m\xe1s tarde.",fr_FR:"Le serveur est occup\xe9, veuillez r\xe9essayer ult\xe9rieurement",id_ID:"Server sedang sibuk, silakan coba lagi nanti",it_IT:"Il server \xe8 occupato, riprova pi\xf9 tardi",nl_NL:"Server is bezet, probeer het later opnieuw",pl_PL:"Serwer jest zaj\u0119ty. Spr\xf3buj ponownie p\xf3\u017aniej",pt_BR:"Servidor ocupado. Tente novamente mais tarde.",pt_PT:"Servidor ocupado. Tente novamente mais tarde",ro_RO:"Serverul este ocupat, \xeencerca\u021bi din nou mai t\xe2rziu",ru_RU:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0435\u0440\u0435\u0433\u0440\u0443\u0436\u0435\u043d. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435",tr_TR:"Sunucu me\u015fgul, l\xfctfen daha sonra tekrar deneyin.",uk_UA:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0435\u0440\u0435\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0438\u0439, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435",vi_VN:"M\xe1y ch\u1ee7 \u0111ang b\u1eadn, vui l\xf2ng th\u1eed l\u1ea1i sau",zh_CN:"\u670d\u52a1\u5668\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",zh_TW:"\u4f3a\u670d\u5668\u5fd9\u788c\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66"};const Ao=function(e){var t=e/1e3;return{ar_EH:"\u0627\u0646\u062a\u0647\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0634\u0628\u0643\u0629\u060c \u062a\u062e\u0637\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631 ".concat(t," \u0645\u0646 \u0627\u0644\u062b\u0648\u0627\u0646\u064a"),cs_CZ:"Vypr\u0161el \u010dasov\xfd limit s\xed\u0165ov\xe9ho p\u0159ipojen\xed \u2013 doba \u010dek\xe1n\xed p\u0159ekro\u010dila ".concat(t," s."),de_DE:"Netzwerkverbindung wurde unterbrochen, die Wartezeit hat ".concat(t," Sekunden \xfcberschritten"),en_US:"Network connection timed out. The wait time has exceeded ".concat(t," seconds."),en:"Network connection timed out, wait time has exceeded ".concat(t," seconds"),es_419:"Se agot\xf3 el tiempo de conexi\xf3n de la red (".concat(t," segundos)"),es_ES:"La conexi\xf3n de red ha superado el tiempo de espera (ha superado los ".concat(t," segundos)"),fr_FR:"La connexion au r\xe9seau a expir\xe9, le temps d'attente a d\xe9pass\xe9 ".concat(t," secondes"),id_ID:"Batas waktu koneksi jaringan habis, waktu tunggu telah melebihi ".concat(t," detik"),it_IT:"La connessione di rete \xe8 scaduta; il tempo d'attesa ha superato i ".concat(t," secondi"),nl_NL:"Netwerkverbinding verbroken, de wachttijd is langer dan ".concat(t," seconden"),pl_PL:"Po\u0142\u0105czenie sieciowe przekroczy\u0142o limit czasu, czas oczekiwania przekroczy\u0142 ".concat(t," sekund"),pt_BR:"A conex\xe3o de rede atingiu o tempo limite. O tempo de espera excedeu ".concat(t," segundos"),pt_PT:"O tempo de liga\xe7\xe3o \xe0 rede expirou. O tempo de espera ultrapassou os ".concat(t," segundos"),ro_RO:"Conexiunea la re\u021bea a e\u0219uat, timpul de a\u0219teptare a dep\u0103\u0219it ".concat(t," secunde"),ru_RU:"\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0442\u0438 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u0412\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b\u043e ".concat(t," \u0441\u0435\u043a."),tr_TR:"A\u011f ba\u011flant\u0131s\u0131 zaman a\u015f\u0131m\u0131na u\u011frad\u0131, bekleme s\xfcresi ".concat(t," saniyeyi a\u015ft\u0131."),uk_UA:"\u0427\u0430\u0441 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u044f \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0437 \u043c\u0435\u0440\u0435\u0436\u0435\u044e \u043c\u0438\u043d\u0443\u0432, \u0432\u0456\u043d \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0438\u0432 ".concat(t," \u0441"),vi_VN:"\u0110\xe3 h\u1ebft th\u1eddi gian k\u1ebft n\u1ed1i m\u1ea1ng, th\u1eddi gian ch\u1edd \u0111\xe3 v\u01b0\u1ee3t qu\xe1 ".concat(t," gi\xe2y"),zh_CN:"\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u7b49\u5f85\u65f6\u957f\u5df2\u8d85\u8fc7 ".concat(t," \u79d2"),zh_TW:"\u7db2\u7d61\u9023\u63a5\u8d85\u6642\uff0c\u7b49\u5f85\u6642\u9577\u5df2\u8d85\u904e ".concat(t," \u79d2")}};var Co=function(){return Io[Ot.locale]||Io.en},Eo=function(){var e=Ao(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4);return e[Ot.locale]||e.en},jo=function(){var e=l(u().mark((function e(t){var r,n,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.efpid,n=t.ontConfig,i=(a={efpid:r,ontConfig:n}).efpid+a.ontConfig.timestamp,e.prev=2,e.next=5,Yn.getSignature(i);case 5:o=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Nr({msg:"err:getFpSi",errInfo:e.t0,extra:{s1:e.t0.message}});case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}var a}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),Oo=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c,s,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.requestUrl,n=t.fetchConfig,o=t.header,i=r,window.inOKXExtension&&(a=new URL(r),i=a.pathname+a.search),e.next=5,Ur.getTokenAndSign({url:i,fetchConfig:n});case 5:return c=e.sent,s=c.token,l=c.timestamp,f=c.signature,o["Ok-Verify-Token"]=s,o["Ok-Timestamp"]=l,o["Ok-Verify-Sign"]=f,e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),To=function(){var e=l(u().mark((function e(t){var r,n,o,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.requestUrl,n=t.fetchConfig,o=t.header,i=t.ontConfig,!Ot.isApp){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ro.getSignature({requestUrl:r,fetchConfig:n,ontConfig:i});case 5:a=e.sent,o["X-Client-Signature"]=a,o["X-Request-Timestamp"]=i.timestamp,o["X-Client-Signature-Version"]=X.get(ir);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Po=function(){var e=l(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.header,n=t.ontConfig,o=X.get(uo)){e.next=4;break}return e.abrupt("return");case 4:return r["X-FpToken"]=o,e.next=7,jo({efpid:o,ontConfig:n});case 7:r["X-FpToken-Signature"]=e.sent,r["X-Request-Timestamp"]=n.timestamp;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lo=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,s,l,p,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.requestUrl,n=t.fetchConfig,o=t.ontConfig,i=t.requestNumber,a=0-(new Date).getTimezoneOffset()/60,s={"App-Type":"web",Accept:"application/json","X-Utc":a,"X-Locale":Ot.locale,"X-Zkdex-Env":o.dexEnv,"X-Cdn":Ot.cdnBaseUrl},!o.needSign){e.next=6;break}return e.next=6,Oo({header:s,requestUrl:r,fetchConfig:n});case 6:if(!o.needJwtSign){e.next=9;break}return e.next=9,To({header:s,requestUrl:r,fetchConfig:n,ontConfig:o});case 9:if(window.inOKXExtension){e.next=32;break}return s["X-Simulated-Trading"]=_t.get("simulatedTrading"),e.next=13,mo.getDevId();case 13:return s.Devid=e.sent,e.next=16,Er();case 16:if(!e.sent){e.next=26;break}return e.next=20,kr(o);case 20:return l=e.sent,s.Authorization=l,e.next=24,To({header:s,requestUrl:r,fetchConfig:n,ontConfig:o});case 24:e.next=28;break;case 26:return e.next=28,Po({header:s,ontConfig:o});case 28:(p=Ot.getSiteInfo?Ot.getSiteInfo(!1):void 0)&&(s["X-Site-Info"]=p),f()||vr.traceId||(vr.traceId=_t.get("traceId")),s["X-Id-Group"]="".concat(vr.traceId,"-c-").concat(i);case 32:return u=o.headers,d=null==u?{}:Object.fromEntries(Object.entries(u).map((function(e){var t,r=Or(e,2),n=r[0],o=r[1];return[(t=n,t.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join("-")),o]}))),e.abrupt("return",c(c(c({},s),n.headers),d));case 34:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),No=function(e,t){var r={};Object.keys(t).forEach((function(e){var n=t[e];null!==n&&void 0!==n&&(r[e]=n)}));var n=new URLSearchParams(Object.entries(r).reduce((function(e,t){var r=Or(t,2),n=r[0],o=r[1];return e[n]=String(o),e}),{})).toString();return"".concat(e,"?").concat(n)},Do=function(){var e=l(u().mark((function e(){var t,r,n,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",r=qt(),e.prev=2,e.next=5,zn.openStore("ont",{keyPath:"id"});case 5:return n=e.sent,e.next=8,n.get("loginPublicKey");case 8:o=e.sent,t=o.value,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return i=X.get(nr)||"",e.abrupt("return",{isCanUsePca:r,publicKeyInLs:i,loginPublicKeyInDB:t});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),Ro=function(e,t){return e.data.msg=t.statusText,Promise.reject(e)},Uo=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,s,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.result,n=t.responseBody,o=t.ontConfig,i=t.requestHeader,!o.isHandling401){e.next=3;break}return e.abrupt("return",Promise.reject(r));case 3:if(gr({isHandling401:!0}),Cr(),805!==(a=n.code)&&806!==a){e.next=22;break}if(e.prev=9,805!==a){e.next=16;break}return e.next=13,Do();case 13:s=e.sent,l=Wn.getDecryptErrorInfo(),f=l.detail,i["X-Client-Signature"]?Nr({msg:"err:si_mismatch",errInfo:c(c({},s),f)}):Nr({msg:"err:si_undefined",errInfo:c(c({},s),f)});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(9);case 20:return window.location.href=Bt("/account/notice?code=".concat(a)),e.abrupt("return",Promise.reject(r));case 22:return(o.customToLogin||jr)(r),e.abrupt("return",Promise.reject(r));case 25:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t){return e.apply(this,arguments)}}(),Ko=function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.msg||(e.data.msg="".concat(Co(),".")),Promise.reject(e)},Fo=function(e){var t,r,n,o=e.status,i=e.result;400===o&&Nr({msg:"resp400",errInfo:{length:null===(r=document)||void 0===r||null===(n=r.cookie)||void 0===n?void 0:n.length}});return null!==i&&void 0!==i&&null!==(t=i.data)&&void 0!==t&&t.msg||(i.data.msg=Co()),Promise.reject(i)},Mo=function(e){var t,r,n=e.result,o=e.response,i=e.ontConfig,a=o.headers.get("x-ok-token");return a&&function(e){var t=e.newToken,r=e.ontConfig,n=e.result;f()||window.inOKXExtension||(Ar(t),r.onUpdateTokenDone&&r.onUpdateTokenDone(n))}({newToken:a,ontConfig:i,result:n}),0==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.code)||null!==n&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.msg||(n.data.msg="".concat(Co(),".")),Promise.resolve(n)},Bo=function(e){return Promise.reject(e)},zo=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.response,o=t.ontConfig,i=t.requestHeader,a=n.status,((null===n||void 0===n||null===(r=n.headers)||void 0===r?void 0:r.get("Content-Type"))||"").includes("json")){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,n.json();case 7:if(c=e.sent,s={data:c,status:a},404!==a){e.next=13;break}return e.abrupt("return",Ro(s,n));case 13:if(401!==a&&403!==a){e.next=20;break}return e.next=16,Uo({result:s,responseBody:c,ontConfig:o,requestHeader:i});case 16:return l=e.sent,e.abrupt("return",l);case 20:if(!(a>=500)){e.next=24;break}return e.abrupt("return",Ko(s));case 24:if(!(a>=400&&a<500)){e.next=28;break}return e.abrupt("return",Fo({status:a,result:s}));case 28:if(!(a>=200&&a<300)){e.next=30;break}return e.abrupt("return",Mo({result:s,response:n,ontConfig:o}));case 30:return e.abrupt("return",Bo(s));case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vo=function(e){var t=e.timeoutConfig,r=e.ontConfig,n=e.errorData;return t.isTriggered?function(e){var t={data:{code:pr.ERR_TIMEOUT,msg:Eo(e.timeout)},status:pr.ERR_TIMEOUT};return Promise.reject(t)}(r):"AbortError"===n.name?function(){var e={data:{code:pr.ERR_CANCELED},status:pr.ERR_CANCELED};return Promise.reject(e)}():function(){var e={data:{code:pr.ERR_NETWORK,msg:So[Ot.locale]||So.en},status:pr.ERR_NETWORK};return Promise.reject(e)}()},qo=function(e){var t={controller:null,timeoutId:null,isTriggered:!1};if(!e.signal&&"function"===typeof AbortController){t.controller=new AbortController;var r=e.timeout||1e4;t.timeoutId=setTimeout((function(){var e;t.isTriggered=!0,null===(e=t.controller)||void 0===e||e.abort()}),r)}return t},Wo=function(e){e.timeoutId&&(clearTimeout(e.timeoutId),e.controller=null,e.timeoutId=null,e.isTriggered=!1)},Jo=function(e,t){return t.timestamp=Date.now(),t.withoutTimestamp?e:function(e){var t=e.url,r=e.ontConfig.timestamp,n=t.indexOf("?")>-1?"&":"?";return"".concat(t).concat(n,"t=").concat(r)}({url:e,ontConfig:t})},Ho=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.requestUrl,o=t.fetchConfig,i=t.ontConfig,a=t.timeoutConfig,c=t.headers,s=Ot.refererLimit?document.referrer.slice(0,Ot.refererLimit):void 0,e.abrupt("return",fetch(n,{method:o.method,headers:c,body:o.body,signal:i.signal||(null===(r=a.controller)||void 0===r?void 0:r.signal),referrer:s}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xo=0,Go=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,c,s,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.fetchConfig,o=t.ontConfig,i=t.callbackWhenFinished,a=Jo(r,o),c=qo(o),a.includes("okex.com")&&Nr({msg:"URL_includes_okex.com"}),e.prev=4,Xo++,e.next=8,Lo({requestUrl:a,fetchConfig:n,ontConfig:o,requestNumber:Xo});case 8:return l=e.sent,e.next=11,Ho({requestUrl:a,fetchConfig:n,ontConfig:o,timeoutConfig:c,headers:l});case 11:return f=e.sent,e.next=14,zo({response:f,ontConfig:o,requestHeader:l});case 14:case 22:s=e.sent,e.next=26;break;case 17:if(e.prev=17,e.t0=e.catch(4),!(e.t0 instanceof Error)){e.next=25;break}return e.next=22,Vo({timeoutConfig:c,ontConfig:o,errorData:e.t0});case 25:throw e.t0;case 26:return e.prev=26,Wo(c),i&&"function"===typeof i&&i(s),e.finish(26);case 30:return e.abrupt("return",s);case 31:case"end":return e.stop()}}),e,null,[[4,17,26,30]])})));return function(t){return e.apply(this,arguments)}}(),$o={},Qo=function(){var e=l(u().mark((function e(t){var r,n,o,i,a,s,l,f,p,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.options,o=void 0===n?{}:n,i=t.method,a={method:i},s=r,(l=c({},o)).params&&(s=No(r,l.params),delete l.params),!(f=c(c({},dr),l)).isolate){e.next=8;break}return e.abrupt("return",Go({url:s,fetchConfig:a,ontConfig:f}));case 8:if(!(p=$o[s])){e.next=11;break}return e.abrupt("return",p);case 11:return d=Go({url:s,fetchConfig:a,ontConfig:f,callbackWhenFinished:function(){delete $o[s]}}),$o[s]=d,e.abrupt("return",d);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zo=function(){var e=l(u().mark((function e(t){var r,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",Qo({url:t,options:r,method:"get"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yo=function(e){var t=e.url,r=e.data,n=e.ontConfig,o={method:e.method,body:r};r&&(r instanceof FormData||(r instanceof Blob?o.headers={"Content-Type":r.type}:"object"===typeof r&&(o.body=JSON.stringify(r),o.headers={"Content-Type":"application/json"})));var i=c(c({},dr),n);return Go({url:t,fetchConfig:o,ontConfig:i})},ei=function(){var e=l(u().mark((function e(t){var r,n,o,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r=i.length>1&&void 0!==i[1]?i[1]:{}).data){e.next=6;break}return o=n.data,delete n.data,e.abrupt("return",Yo({url:t,data:o,ontConfig:n,method:"delete"}));case 6:return e.abrupt("return",Qo({url:t,options:r,method:"delete"}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ti={method:"get"},ri={get:Zo,getWithCache:function(){var e=l(u().mark((function e(t){var r,n,o,a,s,f,p=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,(n=p.length>1&&void 0!==p[1]?p[1]:{}).cacheSeconds||(n.cacheSeconds=60),null!==n&&void 0!==n&&n.params&&(r=No(t,n.params),delete n.params),o=c(c({},dr),n),!(a=X.session.get(lr)||{})[r]){e.next=9;break}return e.abrupt("return",a[r]);case 9:return s=function(){var e=l(u().mark((function e(t){var o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:o=e.sent,a=X.session.get(lr)||{},s=c(c({},a),{},i({},r,o)),X.session.set(lr,s,n.cacheSeconds),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),f=Go({url:r,fetchConfig:ti,ontConfig:o,callbackWhenFinished:s}),e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:ei,post:function(e,t){return Yo({url:e,data:t,ontConfig:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},method:"post"})},put:function(e,t){return Yo({url:e,data:t,options:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},method:"put"})},patch:function(e,t){return Yo({url:e,data:t,ontConfig:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},method:"patch"})},jsonp:function(e){var t=e.url,r=e.func;return new Promise((function(e,n){var o=document.createElement("script"),i="";i=r||"ont_jsonp_".concat(++xo),window[i]=function(t){e(t),_o(o,i)};var a=t.indexOf("?")>-1?"&":"?",c="".concat(t).concat(a,"callback=").concat(i,"&t=").concat(Date.now());o.setAttribute("type","text/javascript"),o.setAttribute("src",$e(c)),o.addEventListener("error",(function(){n(new Error("Fail to load: ".concat(c))),_o(o,i)})),document.head.appendChild(o)}))},isLogin:function(){return Ot.isApp?(console.warn("use ont.checkIsLogin to replace ont.isLogin"),!1):br()},checkIsLogin:Er,toLogin:jr,saveLoginState:Ar,clearLoginState:Cr,getLoginRemainingTime:function(){var e=Date.now(),t=Number(localStorage.getItem(hr));return!t||t<e?0:t-e},getEid:function(){var e,t;return(null===(e=Ot.getSiteInfo)||void 0===e||null===(t=e.call(Ot))||void 0===t?void 0:t.entity)||""},getToken:kr,getTokenFromBrowser:mr,setOntConfig:function(e){gr(e)},dangerouslySetOntConfig:gr,getDeviceId:function(){return _t.get("with-okfe-extension")&&console.warn("use ont.getDevId to replace ont.getDeviceId"),mo.getDeviceId()},getDevId:mo.getDevId,STATUS_CODE:pr,crypto:e,fp:{setEfpid:function(e){X.set(uo,e)},initFpStatus:ko}};var ni=function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X.init({project:"ont"}),ri.crypto.upid.setUPid(),Ot.isApp?Ir():Sr(),e.next=5,ri.fp.initFpStatus();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ni();const oi=c(c({},ri),{},{ontInit:ni,checkJwtSignature:function(){br()&&ri.post("/v3/users/security/heartbeat",{timestamp:(new Date).getTime()})}})})(),(window.utils=window.utils||{}).ont=n.default})();
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/util/ont/5.7.11/ont.js.map